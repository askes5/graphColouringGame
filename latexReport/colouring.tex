\chapter{Colouring}

\section{Introduction}

Suppose Alice has a business that colouring in world maps. Ink is expensive. So she wants to use the least number of colours possible. To ensure the maps are pleasing to the eye she wants to ensure that no two bordering countries are have the same colour. What is the smallest number of colours she needs to colour a map in such a fashion? For a map that is drawn on the plane she only needs four colours. This is known as the \textit{four colour theorem}. The four colour theorem states that any plane that is divided into regions can be coloured using only four colours. 

We formally define a colouring as follows.
\begin{definition}[Proper $k$--Vertex Colouring]
Let $C=\{1,\dots,k\}$ be a set of colours, a $k$--vertex colouring of a graph $G$ is a mapping $c\colon V(G) \to C$. A \textit{proper $k$--vertex colouring} of $G$ is a mapping $c\colon V(G) \to C$ such that for two vertices $u,v\in V(G)$ if $(u,v)\in E(G)$ then $c(u)\neq c(v)$. 
\end{definition}
When referring to graph colourings we will henceforth be referring to proper $k$--vertex colourings for some $k$. 
\begin{definition}[Chromatic Number]
The \textit{chromatic number}, $\chi(G)$, of a graph $G$ is the smallest $k$ such that $G$ has a proper $k$--vertex colouring.
\end{definition} 

Alice's map colour businesses is a huge success. She decides to hire Bob to help her colour maps. Unbeknownst to Alice Bob is part of a secret ink cabal whose goal is to drive up ink sales. Bob will try to use as many colours as possible when colouring maps. To colour a map Alice and Bob take turns assigning a colour to each country. They continue until all the countries are coloured. A problem arises almost immediately. By strategical choosing colours Bob can make it so the map cannot be coloured with four colours. What is the total number of colours Alice needs to ensure that any map can always be coloured? This is an open question. The current best bound is 17 \cite{Zhu2008}. In section \ref{sec:refActStrat} we will show how this bound is found. We can also ask the same question about different types of graphs. 

But first we define the \textit{colouring game}. Let $G$ be a graph, and $C$ a set of colours. Beginning with Alice, Alice and Bob take alternating turns. On their turn they choose an uncoloured vertex, $v$, and assign $v$ a colour from $C$ such that no two adjacent vertices in $G$ have the same colour. This continues until one of two win conditions are meet. First, Alice wins if all the vertices are coloured. Second, Bob wins if there is a vertex that cannot be coloured with the available colours.

%todo add basic results e.g. \chi of subgraphs, composition, disconnected graphs, etc.

\begin{definition}[Game Chromatic Number]
    For a graph $G$ the\textit{game chromatic number}, $\chi_g(G)$, is the smallest number of colours needed to guarantee that Alice has a winning strategy on $G$, when playing the colouring game in $G$.     
\end{definition}

Consider a graph $G$, if there is a winning strategy for Bob with $n$ colours then $n$ is a lower bound for the game chromatic number of $G$. That is $n<\chi_g(G)$. Conversely, if there is a strategy for Alice that guarantees colouring with $m$ colours then $m$ is an upper bound for the game chromatic number, that is $\chi_g(G)\leq m$.

\section{Lower bounds for the $(a,b)$--colouring game}


We also consider an extension of the colouring game, the $(a,b)$--colouring game. In the $(a,b)$--colouring game the win conditions and rules are the same as the standard game but on each every turn Alice colours $a$ vertices and Bob colours $b$ turns.
\begin{definition}[$(a,b)$--Game Chromatic Number]
    Let $G$ be a graph, and $a,b\in\mathbb{N}$. 
    Then, $\chi_g(G;a,b)$ is the smallest number of colours needed to guarantee that Alice has a winning strategy on $G$, when playing the $(a,b)$--colouring game. 
\end{definition}
Note that $\chi_g(G) = \chi_g(G;1,1)$.

The first results we will look at are some lower bounds for the game chromatic number.

Bodlaender 1990 \cite{bodlander1990} showed that for the class of trees $\chi_g(\TT) \geq 4$. This result can be extended to the $(a,b)$--colouring game.

\begin{theorem}
    Let $\TT$ be the family of trees. If we have $b \geq 1$  then,
    \[\chi_g(\TT;1,b) \geq b+3 \]
\end{theorem}

\begin{proof}
    It suffices to show that there exists a tree in which Bob has a winning strategy with $b+2$ colours.
    
    Consider the graph $G$ as defined in figure \ref{fig:multiPlayerTree1}. 
          
   \begin{figure}[h]
       \centering
        \begin{tikzpicture}[scale=.9, transform shape]
        \node [normal] (v7) at (-7.5,1) {};
        \node [normal] (v6) at (-11,1) {};
        \node [normal] (v5) at (-14.5,1) {};
        \node [normal] (v2) at (-18.5,1) {};
        \node [normal] (v1) at (-21,1) {};
        \node [normal] (v3) at (-19,-1) {};
        \node [normal] (v4) at (-17,-1) {};
        \node [normal] (v11) at (-15,-1) {};
        \node [normal] (v10) at (-13.5,-1) {};
        \node [normal] (v9) at (-11.5,-1) {};
        \node [normal] (v8) at (-10,-1) {};
        \node [normal] (v15) at (-9,-1) {};
        \node [normal] (v16) at (-8,-1) {};
        \node [normal] (v17) at (-6.5,-1) {};
        \node [normal] (v12) at (-20,-1) {};
        \node [normal] (v13) at (-16,-1) {};
        \node [normal] (v14) at (-12.5,-1) {};
        \node [normal] (v18) at (-5,1) {};
        \draw  (v1) edge (v2);
        \draw  (v1) edge (v2);
        \draw  (v2) edge (v3);
        \draw  (v2) edge (v4);
        \draw  (v2) edge (v5);
        \draw  (v5) edge (v6);
        \draw  (v6) edge (v7);
        \draw  (v6) edge (v8);
        \draw  (v6) edge (v9);
        \draw  (v5) edge (v11);
        \draw  (v5) edge (v10);
        \draw  (v2) edge (v12);
        \draw  (v13) edge (v5);
        \draw  (v14) edge (v6);
        \draw  (v15) edge (v7);
        \draw  (v16) edge (v7);
        \draw  (v7) edge (v17);
        \draw  (v7) edge (v18);
        \node at ($(v3)!.5!(v4)$) {\ldots};
        \node at ($(v3)!.5!(v4)$) {\ldots};
        \node at ($(v11)!.5!(v10)$) {\ldots};
        \node at ($(v9)!.5!(v8)$) {\ldots};
        \node at ($(v16)!.5!(v17)$) {\ldots};
        
%        \draw [decorate,decoration={calligraphic brace,amplitude=11pt,mirror,raise=2ex}, line width=1.5pt]
%        (v12) -- (v4) node[midway,yshift=-3em]{$p$ vertices};
        \draw[decorate, decoration={brace, amplitude=10pt,mirror,raise=2ex}, thick] ($(v12)+(-.25,0)$)--($(v4)+(.25,0)$) node[midway,yshift=-3em]{$b+1$ vertices};
        \end{tikzpicture}
        \caption{A tree, $G$}
        \label{fig:multiPlayerTree1}
    \end{figure}    
    
    Let $\{c_1,c_2,\ldots,c_{b+1},c_{b+2}\}$ be the set of available colours.
    On Alice's first move she picks any vertex, $v$, and colours it. Let the colour of $v$ be $c_1$.
    Bobs first move is to colour any vertex with distance 3 to $v$. We now have a subgraph in $G$ of the type shown in figure \ref{fig:subgraphColouring}. Bob then colours $y_1, \dots, y_{b-1}$ with $c_2, \dots, c_{b}$ respectively.
\begin{figure}[H]
    \centering
    \begin{tikzpicture}[scale=1,transform shape]
    \tikzstyle{every node}=[circle]; 
    \node [label=above left:4, normalBlack, label=below right:{\footnotesize$c_1$}] (v6) at (-11.5,1) {};
    \node [label=above left:3, normal] (v5) at (-14.5,1) {};
    \node [label=above left:2, normal] (v2) at (-19.5,1) {};
    \node [label=above left:1, normalBlack, label=below right:{\footnotesize$c_1$}] (v1) at (-22,1) {};
    \node [label=below:$x_1$, normal] (v12) at (-21,-1) {};
    \node [label=below:$x_2$, normal] (v3) at (-20,-1) {};
    \node [label=below:$x_{b+1}$, normal] (v4) at (-18.5,-1) {};
    \node [label=below:$y_1$, normalBlack, label=above left:{\footnotesize$c_2$}] (v13) at (-16.5,-1) {};
    \node [label=below:$y_2$, normalBlack, label=above left:{\footnotesize$c_3$}] (v11) at (-15.5,-1) {};
    \node [label=below:$y_{b-1}$, normalBlack, label=above left:{\footnotesize$c_{b}$}] (v10) at (-14,-1) {};
    \node [label=below:$y_{b}$,normal] (v7) at (-13,-1) {};
    \node [label=below:$y_{b+1}$,normal] (v8) at (-12,-1) {};
    \draw  (v1) edge (v2);
    \draw  (v2) edge (v3);
    \draw  (v2) edge (v4);
    \draw  (v2) edge (v5);
    \draw  (v5) edge (v6);
    \draw  (v5) edge (v11);
    \draw  (v5) edge (v10);
    \draw  (v2) edge (v12);
    \draw  (v13) edge (v5);   
    \draw  (v5) edge (v7);
    \draw  (v5) edge (v8);
    \node (e1) at ($(v3)!.5!(v4)$) {\ldots};
    \node (e1) at ($(v11)!.5!(v10)$) {\ldots};
    \end{tikzpicture}
    \caption{A subgraph of the tree $G$ in figure \ref{fig:multiPlayerTree1}}
    \label{fig:subgraphColouring}
\end{figure}

    We consider three cases.
    
    \begin{enumerate}
        \item Alice colours $2$, $x_1$, $x_2$, \ldots, or $x_{b+1}$.
        
        Bob colours $y_{b}$ with $c_{b+1}$ and $y_{b+1}$ with $c_{b+2}$. 
        Vertex $3$ now has $b+2$ different coloured neighbours and therefore Bob wins.     
                    
        \item Alice colours $3$.
               
        The colour of $3$ cannot be one of $c_1 \ldots c_{b}$. Therefore $3$ is either coloured $c_{b+1}$ or $c_{b+2}$. 
        Without loss of generality assume the colour of $3$ is $c_{b+2}$.
        Bob colours $x_1, \dots ,x_{b}$ with $c_2,\dots,c_{b+1}$ respectively.
        Vertex $2$ now has $b+2$ different coloured neighbours and therefore Bob wins.  
                       
        \item Alice colours $y_{b}$ or $y_{b+1}$
        
        Bob colours $2$ with $c_{b+1}$ and $y_{b+1}$ (or $y_{b}$ if Alice coloured $y_{b+1}$) with $c_{b+2}$ .
        Vertex $2$ now has $b+2$ different coloured neighbours and therefore Bob wins. 
    \end{enumerate}

    Therefore we have a winning strategy on $G \in\TT$ for Bob with $b+2$ colours. 
\end{proof}

\begin{definition}[Path decomposition]
    Let $G$ be a graph. A path decomposition is set of subsets of $V(G)$, $P=\{P_1,P_2,\dots,P_n\}$ such that $\bigcup_{i=n}^n P_i=V(G)$ and has the following properties.    
    \begin{enumerate}[(i)]
        \item For all edges $(u,v) \in E(G)$ there exists an $i$ such that such $u,v\in P_i$
        \item If there exists an $i\leq j$ and vertices $u,v$ such that $v\in P_i$ and, $v\in P_j$ then for all $i<k<j$, $v\in P_k$
    \end{enumerate}
    The width of a path decomposition is one less the size if the largest set in $P$.
\end{definition}

\begin{definition}[Pathwidth]
    The pathwidth of a graph $G$ is the minimum width of path decomposition of $G$.    
    A graph of bounded pathwidth, $k$, is a graph with a pathwidth less than or equal to $k$. 
\end{definition}

A maximal graph, $G$, of pathwidth $k$ is a graph that we cannot add any more edges to $G$ without increasing its pathwidth. In such a graph every element in its path decomposition is a $(k+1)$--clique. Hence there is no proper colouring of $G$ with less than $k+1$ colours. Therefore $k$ a lower bound for the game chromatic number for graphs with pathwidth $k$, that is $k < \chi_g(G) $. 

\begin{theorem}
    Let $\PP_k$ be family of graphs with bounded pathwidth $k$. If we have $b\geq1$  then \[(b+1)k+\left\lceil \frac{b}{2}\right\rceil\leq\chi_g(\PP_k;1,b)\]
\end{theorem}

\begin{proof}
    It suffices to show that there exists a graph in $\PP_k$ for which Bob has a winning strategy with $m=(b+1)k+\left\lceil\frac{b}{2}\right\rceil-1$ colours. Let the set of available colours be $C=\{c_1,c_2,\dots,c_m\}$.
    
    We define the graph $G$ as follows. Start with a $k$-clique, $K_k$, then take $n=2|C|+1$ vertices, $v_1,\dots,v_n$ and connect each $v_i$ to each vertex in $K_k$. Note that for each $v_i$, $K_k\cup\{v_i\}$ forms a $k+1$--clique. Now copy this graph, and connect the copies at any vertex not in $K_k$. We now have the graph, $G$, as in figure \ref{fig:pwlowerbound1}. Note that $v_1=t_1$. 
    
    Note that $G$ has the path decomposition \[\left\{K_k\cup\{v_n\}, K_k\cup\{v_{n-1}\}, \dots, K_k\cup\{v_1\}, K_k'\cup\{v_1\}, K_k'\cup\{t_2\}, \dots, K_k'\cup\{t_n\}\right\}\] and therefore has pathwidth $k$.
\begin{figure}[H]
    \centering
\begin{tikzpicture}[rotate=90]
\draw[thick]  (0,0) ellipse (4 and 1);
\node [normal, label=right:$t_{n}$] (v1) at (0,3) {};
\node [normal, label=below:$v_{1}(t_1)$] (v6) at (0,5) {}; 

\node[normal, label=below:$s_{1}$] (v7) at (-3,0) {};
\node[normal, label=below:$s_{2}$] (v8) at (-1.5,0) {};
\node[normal, label=below:$s_{k-1}$] (v9) at (1.5,0) {};
\node[normal, label=below:$s_{k}$] (v10) at (3,0) {};
\draw  (v7) edge (v1);
\draw  (v1) edge (v8);
\draw  (v1) edge (v9);
\draw  (v1) edge (v10);
\draw (v8) -- (v6) -- (v9);

\node [] at (3.5,9) {$K_k$};
\draw [](v7) -- (v6) -- (v10);

\path (v1) -- (v6) node [ font=\Huge, midway, sloped,rotate=90] {$\dots$};
\path (v8) -- (v9) node [ font=\Huge, midway, sloped,rotate=90] {$\dots$};



\draw[thick]  (0,10) ellipse (4 and 1);
\node [normal, label=left:$v_{n}$] (v11) at (0,7) {};

\node [] at (3.5,-1) {$K_k'$};
\node[normal, label=below:$u_{1}$] (v17) at (-3,10) {};
\node[normal, label=below:$u_{2}$] (v18) at (-1.5,10) {};
\node[normal, label=below:$u_{k-1}$] (v19) at (1.5,10) {};
\node[normal, label=below:$u_{k}$] (v110) at (3,10) {};
\draw  (v17) edge (v11);
\draw  (v11) edge (v18);
\draw  (v11) edge (v19);
\draw  (v11) edge (v110);
\draw (v18) -- (v6) -- (v19);

\draw [](v17) -- (v6) -- (v110);

\path (v11) -- (v6) node [ font=\Huge, midway, sloped,rotate=90] {$\dots$};
\path (v18) -- (v19) node [ font=\Huge, midway, sloped,rotate=90] {$\dots$};

%------------------------------------
\end{tikzpicture}
    \caption{Graph $G$}
\label{fig:pwlowerbound1}
\end{figure}

Consider two disjoint copies of $G$, $G_1$ and $G_2$. On Bob's first turn he colours a vertex in whichever copy Alice didn't, say $G_1$. Bob then only plays in $G_1$. Therefore without loss of generality we can assume that Bob has the first move.

On Bobs first turn he colours $v_1$ with $c_1$ and $v_2,t_2,v_3,t_3,\dots, v_{b/2}, t{b/2}$ with unique colours.
 By the symmetry of $G$ we can assume Alice colours one of $t_2,\dots,t_n,s_1,\dots,s_k$. 

Therefore we consider the subgraph, $H$, in figure \ref{fig:pwlowerbound2}, that Alice has not coloured in yet. 

\begin{figure}[H]
    \centering
\begin{tikzpicture}
\draw[thick]  (0,0) ellipse (4 and 1);
\node [normal, label=right:$v_{n}$] (v1) at (0,3) {};
\node [normal, label=right:$v_{1}$] (v6) at (0,5) {}; 
\node (v3) at (-4,0) {};
\node (v4) at (4,0) {};



\node [] at (3.5,-1) {$K_k$};
\node[normal, label=below:$u_{1}$] (v7) at (-3,0) {};
\node[normal, label=below:$u_{2}$] (v8) at (-1.5,0) {};
\node[normal, label=below:$u_{k-1}$] (v9) at (1.5,0) {};
\node[normal, label=below:$u_{k}$] (v10) at (3,0) {};
\draw  (v7) edge (v1);
\draw  (v1) edge (v8);
\draw  (v1) edge (v9);
\draw  (v1) edge (v10);
\draw (v8) -- (v6) -- (v9);

\draw [](v7) -- (v6) -- (v10);

\path (v1) -- (v6) node [ font=\Huge, midway, sloped] {$\dots$};
\path (v8) -- (v9) node [ font=\Huge, midway, sloped] {$\dots$};
\end{tikzpicture}
    \caption{Subgraph $H$ of $G$ in figure \ref{fig:pwlowerbound1}}
    \label{fig:pwlowerbound2}
\end{figure}


Bob's strategy is to always colour $b$ uncoloured vertices not in $K_k$ with colours not used in $H$. We keep playing until either $K_k$ is fully coloured bar one, or Bob runs out of new colours. Note that as $n>m$ Bob cannot run out of vertices to colour before he runs out of colours. We consider the cases separately. 

First, suppose $K_k$ is fully coloured bar one. Let the uncoloured vertex be $x$. On the first turn Bob coloured $b$ vertices, but at most half of these are in $H$ and so Bob coloured $\left\lceil \frac{b}{2}\right\rceil$ vertices in $H$. On the second turn Alice coloured no vertex in $H$ and Bob $b$ vertices. As each coloured vertex in $K_k$ must have been coloured by Alice there have been at least $k-1$ turns after the second turn and on each turn Bob coloured $b$ vertices. Finally when each vertex in $K_k$ was coloured the vertex must have coloured differently than the ones before it. Therefore the total number of unique coloured neighbours of $x$ is 
%
\[\left\lceil \frac{b}{2}\right\rceil+b +b(k-1)+(k-1)=(b+1)k+\left\lceil \frac{b}{2}\right\rceil-1 = |C|\]
%
Therefore $x$ cannot be coloured, and Bob wins.

Second, suppose Bob has run out of colours then every uncoloured vertex in $K_k$ is connected to $(b+1)k-1$ many unique coloured neighbours and thus cannot be coloured, therefore Bob has won.
\end{proof}
%---------------------------------------

%#####################################################################################################################
\section{Activation Strategy}
%----------------------------------------------------------------------------------------

First introduced by  Zhu 1999 \cite{Zhu1999} the marking game is simplified version of the colouring game. In the marking game the players simply pick vertices. They don't colour the vertices. 

The marking game is played as follows. Let $G$ be a graph, and $t\in\Nn$ a target score. Starting with Alice, Alice and Bob take turns to choose an unchosen vertex in $G$. The order in which the vertices were chosen forms a linear order, $L$. The score of the game is $\max_{v\in V(G)}d^+(v)$. Alice wins is the score is strictly less $t$ and Bob wins otherwise. 
%
\begin{definition}[Game Colouring Number]
    Let $G$ be a graph. The game colouring number $\col(G)$ is the minimum target score in the marking game such that Alice has a winning strategy. 
\end{definition}
%

There is simple strategy for Alice that takes a strategy for the marking game and converts it to a strategy. This strategy is called \textit{first fit}. Fix $C=\{c_1,c_2,\dots,c_k\}$ a set of colours. Suppose Alice has chosen a vertex $v$ in the marking game. In the colouring game she colours $v$ with the least $i$ such that $c_i$ is a valid colour in the colouring game. Let the score of marking game be $s$. At no point will Alice try to colour a vertex with more than $s$ coloured neighbours. Hence by using first fit Alice has a winning strategy for the colouring game if $|C|\leq s+1$. Note that Alice wins if the target score is equal to the number of colours. Hence the game colouring number bounds the game chromatic number. That is $\chi_g(G)\leq\col(G)$.

%It is commonly used for finding upper bounds for the game chromatic number. For example the current upper bound for the class of planar graphs was found using a strategy on the marking game \cite{Zhu2008}.

Faigle, Kern, Kierstead, and Trotter 1993 \cite{faKeKiTr1993} introduced a winning strategy with four colours for Alice on the class of forests. We present it here to give some inspiration for the activation strategy. While this example misses some nuance of the full activation strategy, the basic premise is the same.  

\begin{figure}[h]
    \centering
    \begin{tikzpicture}    
        \node [normal, label=below:$a$] (v1) at (0,2.5) {};
        \node [normal, label=below:$b$] (v2) at (-1,1.5) {};
        \node [normal, label=below:$c$] (v8) at (1,1.5) {};
        \node [normal, label=below:$d$] (v9) at (0,0.5) {};
        \node [normal, label=below:$e$] (v10) at (2,0.5) {};
        \node [normal, label=below:$f$] (v14) at (-0.5,-0.5) {};
        \node [normal, label=below:$g$] (v13) at (0.5,-0.5) {};
        \node [normal, label=below:$h$] (v11) at (1.5,-0.5) {};
        \node [normal, label=below:$i$] (v12) at (3.5,-0.5) {};
        \node [normal, label=below:$j$] (v3) at (-1,-1.5) {};
        \node [normal, label=below:$k$] (v19) at (0,-1.5) {};
        \node [normal, label=below:$l$] (v6) at (2,-1.5) {};
        \node [normal, label=below:$m$] (v20) at (3,-1.5) {};
        \node [normal, label=below:$n$] (v21) at (4,-1.5) {};
        \node [normal, label=below:$o$] (v4) at (-1.5,-2.5) {};
        \node [normal, label=below:$p$] (v5) at (-0.5,-2.5) {};
        \node [normal, label=below:$q$] (v15) at (1.5,-2.5) {};
        \node [normal, label=below:$r$] (v7) at (2.5,-2.5) {};
        \node [normal, label=below:$s$] (v16) at (-1,-3.5) {};
        \node [normal, label=below:$t$] (v17) at (0,-3.5) {};
        \node [normal, label=below:$u$] (v18) at (2,-3.5) {};
        \draw  (v1) edge (v2);
        \draw  (v3) edge (v4);
        \draw  (v3) edge (v5);
        \draw  (v6) edge (v7);
        \draw  (v1) edge (v8);
        \draw  (v8) edge (v9);
        \draw  (v8) edge (v10);
        \draw  (v10) edge (v11);
        \draw  (v10) edge (v12);
        \draw  (v13) edge (v9);
        \draw  (v9) edge (v14);
        \draw  (v15) edge (v6);
        \draw  (v5) edge (v16);
        \draw  (v5) edge (v17);
        \draw  (v15) edge (v18);
        \draw  (v14) edge (v19);
        \draw  (v12) edge (v20);
        \draw  (v12) edge (v21);
        \draw  (v14) edge (v3);
        \draw  (v11) edge (v6);
    \end{tikzpicture}
    \caption{A tree, $T$}
    \label{fig:actvStrateg}
\end{figure}

Consider the tree $T$ in figure \ref{fig:actvStrateg}. $T$ has the vertex set $\{a,b,c,\dots,t,u\}$. Let the set of colours be $C=\{\text{red},\text{green},\text{blue},\text{yellow}\}$. We consider $T$ to have a root $a$. Part of Alice's strategy is to keep track of a set $A$ of activated vertices. Alice starts by colouring $a$ red and adding $a$ to $A$. Suppose Bob colours vertex $j$ red. 
Let $P$ be the path starting with $j$ and traversing up the tree until it reaches a vertex in $A$. In this case $P= j, f, d, c, a$. Alice adds all the vertices in $P$ to $A$. Alice picks the vertex to colour by following these rules:
%
\begin{enumerate}
    \item If the end of the path $P$ is not coloured she colours it. 
    \item If the last vertex in $P$ is coloured then she colours the second to last vertex. 
    \item If both the last and second to last vertices are coloured she colours any vertex whose parent is coloured. 
\end{enumerate}
%
So, on this turn she colours $c$ green. At this stage $A=\{a,c,d,f,g\}$. Bobs next move is to colour $k$ green. As before Alice traverses upwards forming a path $P_2=k,f$. The last vertex in $P_2$ is $f$ and $f$ is not coloured. So she colours $f$ blue. Bob colours $g$ red. Alice adds $g$ to $A$ and colours $d$ yellow for the same reason as her last turn. The current game state is represented in figure \ref{fig:actvStrateg_2}.
 %
 \begin{figure}[H]
     \centering
     \begin{tikzpicture}
     
     \node [normalBlack, label=below:$a$, label=above left: {\footnotesize red}]   (v1) at (0,2.5) {};
     \node [normal,      label=below:$b$]                                          (v2) at (-1,1.5) {};
     \node [normalBlack, label=below:$c$, label=above right:{\footnotesize green}] (v8) at (1,1.5) {};
     \node [normalBlack, label=below:$d$, label=left      : {\footnotesize yellow}](v9) at (0,0.5) {};
     \node [normal,      label=below:$e$]                                          (v10) at (2,0.5) {};
     \node [normalBlack, label=below:$f$, label=left:       {\footnotesize blue}]  (v14) at (-0.5,-0.5) {};
     \node [normalBlack, label=below:$g$, label=above right:{\footnotesize red}]   (v13) at (0.5,-0.5) {};
     \node [normal,      label=below:$h$]                                          (v11) at (1.5,-0.5) {};
     \node [normal,      label=below:$i$]                                          (v12) at (3.5,-0.5) {};
     \node [normalBlack, label=below:$j$, label=left:       {\footnotesize red}]   (v3) at (-1,-1.5) {};
     \node [normalBlack, label=below:$k$, label=right:      {\footnotesize green}] (v19) at (0,-1.5) {};
     \node [normal,      label=below:$l$]                                          (v6) at (2,-1.5) {};
     \node [normal,      label=below:$m$]                                          (v20) at (3,-1.5) {};
     \node [normal,      label=below:$n$]                                          (v21) at (4,-1.5) {};
     \node [normal,      label=below:$o$]                                          (v4) at (-1.5,-2.5) {};
     \node [normal,      label=below:$p$]                                          (v5) at (-0.5,-2.5) {};
     \node [normal,      label=below:$q$]                                          (v15) at (1.5,-2.5) {};
     \node [normal,      label=below:$r$]                                          (v7) at (2.5,-2.5) {};
     \node [normal,      label=below:$s$]                                          (v16) at (-1,-3.5) {};
     \node [normal,      label=below:$t$]                                          (v17) at (0,-3.5) {};
     \node [normal,      label=below:$u$]                                          (v18) at (2,-3.5) {};
     \draw  (v1) edge (v2);
     \draw  (v3) edge (v4);
     \draw  (v3) edge (v5);
     \draw  (v6) edge (v7);
     \draw  (v1) edge (v8);
     \draw  (v8) edge (v9);
     \draw  (v8) edge (v10);
     \draw  (v10) edge (v11);
     \draw  (v10) edge (v12);
     \draw  (v13) edge (v9);
     \draw  (v9) edge (v14);
     \draw  (v15) edge (v6);
     \draw  (v5) edge (v16);
     \draw  (v5) edge (v17);
     \draw  (v15) edge (v18);
     \draw  (v14) edge (v19);
     \draw  (v12) edge (v20);
     \draw  (v12) edge (v21);
     \draw  (v14) edge (v3);
     \draw  (v11) edge (v6);
     \end{tikzpicture}
     \caption{The tree $T$ after 6 turns}
     \label{fig:actvStrateg_2}
 \end{figure}
%
Some final example plays are as follows. Bob colours $q$ blue. Alice adds $q,l,h,e$ to $A$ and colours $e$ red. Bob colours $r$ red. Alice adds $r$ to $A$ and colours $l$ green. Bob colours $h$ blue. By the third rule Alice colours $b$ green. The game proceeds in this manor until all the vertices are coloured. 

When using this strategy Alice will always win if there are four or more available colours. This strategy is for the colouring game. But, if instead of colouring vertices we mark them it becomes a strategy for the marking game. Introduced by Kirstead 2000 \cite{KIERSTEAD2000} activation strategy is an extension of this strategy to arbitrary graphs in the marking game. 
%In section \ref{sec:actvStratProofs} we will provide a short proof of this result using the activation strategy.
 
\subsection{Summery of activation strategy}
%
Before we formally define the activation strategy we need the concept of an induced orientation in a graph. For a graph $G$ and a linear order $L$ on $V(G)$. $G_L$ is the orientation induced by $L$ on the graph $G$. That is for any edge, $(u,v)\in E(G)$ we have the directed edge $(u,v)\in G_L$ if and only if $u>_Lv$ and $(u,v)\in E(G)$. This ordering may be the reverse of what you might expect. The reason for this is when using the activation strategy Alice wants to traverse the vertices from biggest to smallest in $L$ and so we want the edges directed from biggest to smallest. The less than symbol $>$ can be thought of as an arrow pointing to the next element on the linear order.

The last thing before we formally define the activation strategy is we need some notation. Let $v$ be a vertex in $V(G)$ and $N(v)$ be the set of neighbours of $v$. Then with respect to $v$ we have the following
\begin{itemize}        
    \item The \textit{outneighbours} are $N^+_{G_L}(v)=\{u\in N(v):v>_L u\}$ 
    \item The \textit{inneighbours} are $N^-_{G_L}(v)=\{u\in N(v):v<_L u\}$ 
    \item The \textit{outdegree} is $d^+_{G_L}(v)=|N^+_{G_L}(v)|$ 
    \item The \textit{indegree} is $d^-_{G_L}(v)=|N^-_{G_L}(v)|$
    \item $V^+_{G_L}(v)=\{u\in V(g):v>_L u\}$     
    \item $V^-_{G_L}(v)=\{u\in V(g):v<_L u\}$ 
\end{itemize}

In $G$ the maximum outdegree is $\Delta^+(G)=\max_{v\in V(G)}N^+(v)$, and 
the maximum indegree is $\Delta^-(G)=\max_{v\in V(G)}N^-(v)$. 

Finally,
\begin{itemize}  
    \item $N^+[v]=N^+(v)\cup\{v\}$
    \item $N^-[v]=N^-(v)\cup\{v\}$
    \item $V^+[v]=V^+(v)\cup\{v\}$
    \item $V^-[v]=V^-(v)\cup\{v\}$
\end{itemize}
When it is clear from context the orientation we are referring to we will drop the $G_L$ subscript.  A simple way to think about this notation is $+$ is before in the linear order and $-$ is after. For example $N^+(v)$ is the set the neighbours before $v$.

The activation strategy can be summarised as follows. 
\begin{enumerate}
    \item Alice starts by marking the least $v$ in $L$.
    \item On her next turn let $u$ be the last vertex marked by Bob. Alice starts at $u$ activates it and moves to $w$ the least unmarked neighbour of $u$ in $L$. \label{enum:actvstrat}
    \item If $w$ is activated or has no unmarked neighbours then Alice marks $w$. If not Alice repeats step (\ref{enum:actvstrat}) on $w$ until she either finds an active vertex.
\end{enumerate}


 We can now give a formal description of the activation strategy.

\begin{definition} [Activation strategy \cite{KIERSTEAD2000}]
    Let $G$ be a graph and $L$ a linear ordering on $V(G)$. We define the activation strategy $S(L,G)$ as follows:
    
    Let U denote the set of unmarked vertices. Alice maintains a subset $A \subset V(G)$ of active vertices. Initially $A = \emptyset$. We activate a vertex $x$ by adding it to $A$. On her first turn Alice activates and marks the least vertex in the ordering $L$. Now suppose that Bob has just marked the vertex $b$. Alice uses algorithm \ref{alg:activStrat} to update $A$ and choose the next vertex.
    \begin{algorithm}[h]
        \caption{Activation strategy}
        \label{alg:activStrat}
        \begin{algorithmic}[1]
            \Statex
            \State $x \gets b$ 
            
            \While {$x \notin A$}
                \State $A := A \cup \{x\}$
                \State $s(x) =\min_L(N^+[x] \cap (U \cup \{b\} ))$
                \State $x \gets s(x)$
            \EndWhile      
            
            \If{$x \neq b$} 
                \State choose x
            \Else
                \State $y \gets \min_L U$
                \If{$y \neq A$}
                    \State $A \gets A \cup \{y\}$                    
                \EndIf     
                \State choose y
            \EndIf   
        \end{algorithmic}
    \end{algorithm}
    
\end{definition}

\begin{definition}[Matching]
    Let $G$ be a graph. A \textit{matching} $M\subset E(G)$ is a set of independent edges, that is a set of edges that share no common vertices. We say $M$ is a matching from $X$ to $Y$ if $X,Y\subseteq V(G)$ and all the edges in $M$ go from a vertex in $X$ to a vertex in $Y$. That is if $(u,v)\in M$ then $u\in X$ and $v\in Y$. 
\end{definition}

\begin{definition}[Graph Rank \cite{KIERSTEAD2000}] \label{defnRank}
    Suppose $A,B$ are disjoint subsets of $V(G)$. We say that a matching $M$ is a matching from $A$ to $B$ if $M$ is defined on all $v\in A$ and $B\setminus A$ contains a cover of M. 
    
    Let $G$ be a graph and $L$ a linear order on $V(G)$, and $\Pi(G)$ the set of all linear orders on $V(G)$
    
    For $u \in V(G)$ the matching number $m(u, L, G)$ of $u$ with respect to $L$ in $G$ is defined to be the size of the largest set $Z \subset N^-[u]$ such that there exists a partition $\{X, Y\}$ of $Z$ and there exist matchings $M$ from
    $X\subset N^-[u]$ to $V^+(u)$ and $N$ from $Y\subset N^-(u)$ to $V^+[u]$.
    
    The rank $r(L,G)$ and rank $r(G)$ are defined as:
    \begin{align*}
    r(u,L,G) & = d^+_{G_L}(u) + m(u,L,G) \\
    r(L,G)   & = \max_{u \in V}r(u,L,G)  \\
    r(G)     & = \min_{L \in \Pi(G)} r(L,G)
    \end{align*}
\end{definition}

The graph rank is technical detail used to prove results using the activation strategy. Most bounds found when using the activation strategy involve finding the rank if the graph. Once the rank is known we have a linear order $L$ on which to play the activation strategy. When using the activating strategy on such a $L$ we get the following upper bound for the game colouring number. 

\begin{theorem}[Kierstead 2000 Theorem 1 \cite{KIERSTEAD2000}] \label{thm:KIERSTEAD1}
    For any graph $G$ and linear ordering $L$ on $V(G)$, if Alice uses the activation strategy $S(L, G)$ to play the ordering game on $G$, then the score will be at most $1+r(L, G)$. In particular, $\col(G) \leq 1+r(G)$.
\end{theorem}

\begin{proof}[Proof Summary]
    Fix $G$ a graph and $L$ a linear ordering of $V(G)$. We need to show that on any turn any unchosen vertex $u$ has at most $r(u,L,G)$ many active neighbours. Denote the set of active vertices $A$ and the set of unmarked vertices $U$. The main task is to show that $|N^-(u)\cap A|\leq m(u,L,G)$. Once this is done we have 
    \begin{align*}
        |N(u)\cap A| &\leq d^+(u) + |N^-(u)\cap A| \\
        & \leq  d^+_{G_L}(u) + m(u,L,G) \\
        & = r(u,L,G)
    \end{align*} 
    and the result follows.
    
    Let $s(x)$ be the $L$--least unmarked vertex in $N^+[x]$. We define the sets $P,Q$ as follows,
    \begin{align*}
        P&=\{x\in N^-(u)\cap A : \text{x is activated before $s(x)$}\} \\        
        Q&=\{x\in N^-(u)\cap A : \text{x is activated after $s(x)$}\}
    \end{align*}
    $\{P,Q\}$ is a partition of $N^-(u)\cap A$. Note that for any vertex $x\in N^-(u)\cap A $ $u\in N+(x)\cup U$. This means that $s(x)\leq u$ and so $s(x)\in V^+[u]$. Thus $S_P = \{(x,s(x)):x\in P)\}$ and $S_Q = \{(x,s(x)):x\in Q)\}$ are matchings from $N^-(u)$ to $V^+[u]$.
    
    There is a problem with these matchings. They both go from $N^-(u)$ to $V^+[u]$. To match the definition of $m(r,L,G)$ we need one of $S_P$ and $S_Q$ to go from $N^-[u]$ to $V^+(u)$. If there are no vertices $x\in P, y\in Q$ such that $s(x)=u=s(y)$ then both matchings are from $N^-(u)$ to $V^+(u)$ and we are done. 
    
    If there are vertices $x\in P, y\in Q$ such that $s(x)=u=s(y)$ then fix some $x$ and $y$. Since $u$ is unchosen it must be that $u \in N^-(s(u))$. If $u\in P$ then set $X = (P'\setminus x) \cup\{u\}$ and $Y= Q$. 
    
    If $u\notin P$ then set $X = (Q'\setminus y) \cup\{u\}$ and $Y= P$.
    
    In either case $S_X= \{(x,s(x)):x\in X)\}$ is a matching from $N^-[u]$ to $V^+(u)$ and $S_Y= \{(x,s(x)):x\in Y)\}$ is a matching from $N^-(u)$ to $V^+[u]$. So we have our matchings as desired.
\end{proof}

%A proof of $\chi_g(G) \leq 18$ is now a matter of finding an ordering $L$ such that by theorem \ref{thm_KIERSTEAD1} $r(G) \leq 17$. See \cite{KIERSTEAD2000}.

\subsection{Proofs Using the Activation Strategy} \label{sec:actvStratProofs}
We now provide some basic results that demonstrate typical usage of the activation strategy. We bound the families of graphs with bounded pathwidth and with bounded tree width.

%
%\begin{algorithm}[h]
%    \caption{Linear order in path decomposition}
%    \label{algo_LinOrderPW}
%    \begin{algorithmic}[1]
%        \Require {$\mathscr{X}=\{X_1,X_2,\dots,X_n\}$ is the path decomposition of a graph $G$}
%        \Ensure {$L$ is a linear order on $V(G)$}
%        
%        \Function{LOinPath}{$\mathscr{X}$}
%        
%            \State $Q \gets \emptyset$ \Comment $Q$ is a FIFO queue
%            \State $L \gets \emptyset$ \Comment our linear order for $V(G)$
%           
%            \ForAll {$X_i \in \mathscr{X}$}
%                \State $Q' \gets Q \cup (X_i\setminus Q)$ \Comment $Q'$ is a FIFO queue
%                \State $Q \gets \emptyset$
%                \ForAll {$x \in Q'$}
%                    \If {$x \in \{X_{i+1} \cup \dots \cup X_n\}$}
%                        \State $Q \gets Q\cup \{x\}$
%                    \Else 
%                        \State $L \gets L\cup \{x\}$   
%                    \EndIf    
%            \EndFor
%           
%            \EndFor 
%            \State \textbf{return}  $L$
%       \EndFunction 
%    \end{algorithmic}
%\end{algorithm}
%
%The following lemma is effectively the definition of the linear order given by algorithm \ref{algo_LinOrderPW}. 
%
%\begin{lemma} \label{lemma_neighboursAfter}
%    Let $P=(E,V)$ be a graph of pathwidth $k$ and $\{X_1,X_2,\dots,X_n\}$ be a path decomposition of $P$ of width $k$.
%    
%    Suppose $L$ is a linear ordering on $V$ generated by algorithm \ref{algo_LinOrderPW} and $v$ is a vertex in $P$. Then there is some $i$ such that $v\in X_i$ and $N^-(v) \subset X_i$. Further $i$ is the largest $i$ for which $X_i$ contains $v$. 
%\end{lemma}
%
%\begin{proof}
%    Let $X_i$ be the segment in which $v$ is added to $L$, that is $i$ is the number of times line 4 has been looped when $v$ is added to $L$.  
%    The algorithm adds a vertex $v$ to $L$ iff there is no $j> i$ such that $v \in X_j$. Thus $i$ is the greatest $i$ such that $v \in X_i$. Therefore by definition of path decomposition all the neighbours of $v$ not in the $L$ are in $X_i$. Further the neighbours not in $L$ when $v$ is added to $L$ are greater than $v$ in $L$. Therefore is $N^-(v) \subset X_i$.
%\end{proof}

\begin{theorem}\label{thm_pathwidth}
    Let $G$ be a graph of pathwidth $k$. Then, 
    \[\chi_g(G) \leq 3k + 1\]    
\end{theorem}

\begin{proof}
    Let $G$ be a graph of pathwidth $k$, with path decomposition $P=\{P_1,\dots,P_n\}$. 

    Consider the linear order $L$ on $V(G)$ such that for any $i<j$ all elements in $P_i$ are less than all elements in $P_j - P_i$.  
        
%    $ L = P_1 \cup (P_2 \setminus P_1) \cup  (P_3 \setminus P_1\cup P_2) \cup \dotsm$ 
    
    We can see that $d^+(v) \leq k$ for any vertex $v$. %todo clarify
    
    As $\chi_g(P) \leq{\col}(P)$ and $\col(G)\leq 1+r(G)$. By theorem \ref{thm:KIERSTEAD1} it suffices to show that for any vertex $v \in V(G)$ $r(v,L,G) \leq 3k$. 
    
    Without loss of generality assume $G$ is maximal, that is all $P_i$ are cliques.
    
    Let $v$ be any vertex in $V(G)$. Let $Z \subset N^-[v]$ and the partition $\{X,Y\}$ of $Z$ such that $X\subset N^-[v]$ and  $Y\subset N^-(v)$. 
    
    Consider a matching $A\colon X \to V^+(v)$. Let $e=(a,b)$ be an edge in $A$. $v\in N^+(a)$ and $N^+(a)$ is a clique as $N^+(a) \subseteq P_i$ for some $i$. Therefore $b$ is adjacent to $v$ that is $b\in N^+(v)$. Hence $|X|\leq|N^+(v)|\leq k$. 
    
    Consider a matching $B\colon Y \to V^+[v]$. Let $e=(a,b)$ be an edge in $B$. %The idea is $b\in N+(v)$
    There exists some $i,j$ such that $a\in X_i$ and $b\in X_j$. As $(a,b)$ is an edge by the definition of path decomposition $b\in X_i \lor a\in X_j$. If $a \in X_j$ then $a \in V^+[v]$, this contradicts the fact that $a\in N^-(v)$. Therefore $b\in X_i$. As $v\in X_i$ and $X_i$ is a clique $b$ is adjacent to $v$ that is $b\in N^+(v)$. Hence $|Y|\leq|N^+(v)\leq k$.  
    
    $m(v,L,G) \leq |Z| = |X|+|Y|$. Therefore by the definition of rank, \[r(v,L,G) = d^+_{G_L}(v) + m(v,L,G) \leq k + |X|+|Y| \leq 3k\qedhere\]
\end{proof}

\begin{definition}[Tree decomposition]
    A tree decomposition $(X,T)$ of a graph $G$ is a tree, $T$, along a collection of subsets of $V(G)$ $X=\{X_1,\dots,X_n\}$, indexed by vertices in $T$, such that $V(G)=\bigcup X$ and obeys the following properties.
    \begin{enumerate}[(i)]
        \item For all edges $(u,v)$ in $E(G)$ there exists an $i$ such that $u,v\in X_i$
        \item  If there exists an $x,y\in V(T)$ and vertices $u,v$ such that $v\in X_x$ and $v\in X_y$ then for all $l$ on the path from $x$ to $y$ $v\in P_l$.
    \end{enumerate} 
    The width of a tree decomposition is the maximum value of $|X_i| -1$ for all $i\in V(T)$.
\end{definition}

\begin{definition}[Treewidth]
    The treewidth of a graph $G$ is the minimum width of tree decomposition of $G$.    
    A graph of bounded treewidth, $k$, is a graph with treewidth less than or equal to $k$. 
\end{definition}

To find an upper bound for graphs of bounded treewidth we use algorithm \ref{alg:LinOrderTW} to generate a linear order on the vertices of a graph, $G$, based on a minimal tree decomposition, $(X,T)$. Algorithm \ref{alg:LinOrderTW} traverses $T$ using breadth first traversal and adds any vertex from $X_i$ to the linear order if it is the first time we  had encountered the vertex.

%todo explain breadth first traversal
%todo add picture of traversial.

%in tree decom (\{X_1,X_2,\dots,X_n\},T) X_i is a vertex in T
\begin{algorithm}[h]
    \caption{Linear order in tree decomposition}
    \label{alg:LinOrderTW}
    \begin{algorithmic}[1]
        \Require {$\left( X=\{X_i:i\in I\}, T \right) $ is the tree decomposition of a graph $G$. $r$ is the root of $T$}
        \Ensure {$L$ is a linear order on $V(G)$}
        
        \Function{LOinTree}{$(X,T)$, $r$}        
            \State $L \gets \emptyset$ \Comment our linear order for $V(G)$
            \State let $Q$ be a FIFO queue 
            \State $Q$.enqueue($r$)
            \State mark $r$ as visited
            
            \While{$Q$ is not empty}
                \State $v \gets Q$.dequeue()
                \State $L \gets L \cup \{v\setminus L\}$ \Comment add all elements in $V(G)$ not already in $L$
                \ForAll {$U\in N(v)$ s.t. $U$ is unvisited}
                    \State $Q$.enqueue($U$)
                    \State mark $U$ as visited
                \EndFor        
            \EndWhile 
            \State \textbf{return}  $L$
        \EndFunction
    \end{algorithmic}
\end{algorithm}

\begin{lemma} \label{Lemma_TWLinOrdBound}
    Let $G$ be a graph of treewidth $k$ and $(\{X_1,X_2,\dots,X_n\},T)$ be a tree decomposition of $G$ with width $k$.
    
    Suppose $L$ is a linear ordering on $V(G)$ generated by algorithm \ref{alg:LinOrderTW} and $v$ is any vertex in $G$. Then $d^+(v) \leq k$. 
\end{lemma}

\begin{proof}    
    Let $L$ is a linear ordering on $V(G)$ generated by algorithm \ref{alg:LinOrderTW}. Let $v$ be any vertex in $V(G)$. By definition $d^+(v) = |N^+(v)|$, that is the outdegree of $v$ is number of neighbours of $v$ that appear before $v$ in $L$. 
    
    Suppose that algorithm \ref{alg:LinOrderTW} has just traversed $X_i\in X$ and $v\in X_i$. Without loss of generality assume that $v$ is the last element $L$. By the definition of tree decomposition all the vertices in $X_i$ are neighbours of $v$. Note that $|X_i\setminus v|\leq k$. Therefore all the neighbours of $v$ in $L$ are in $X_i$. Therefore there are at most $k$ neighbours of $v$ in $L$.   
\end{proof}

%todo col_g(T) < 3k+1 is sharp

A $k$--tree is a maximal graph with treewidth $k$. This characterization of $k$--trees means that a graph with pathwidth $k$ is a subgraph of some $k$--tree. Therefore to find a bound the class of trees with bounded treewidth we only need to find a bound for the class of $k$--trees. Theorem \ref{thm:ktreeUpper} was first introduced in Wu, Zhu 2008 \cite{WuZhu2008}, but the proof proved here is based on the activation strategy rather than pseudo-partial $k$--trees.
\begin{theorem} \label{thm:ktreeUpper}
        Let $G$ be a k-tree. Then, 
        \[\chi_g(G) \leq 3k + 2\]
\end{theorem}

\begin{proof}
    Suppose $G$ is a graph of treewidth $k$ and let $(\{X_1,X_2,\dots,X_n\},T)$ be a tree decomposition of $G$ with width $k$ and root $r$.
    
    As $G$ is a k-tree $G$ is maximal with treewidth k. That is, each $X_i$ is a clique.
    
    Let $v$ be a vertex in $G$. It suffices to show $r(v,L,G) \leq 3k + 1$.
    
    %todo is N^+(v) a clique?
    
    Note that by lemma \ref{Lemma_TWLinOrdBound} for all $v \in V(G)$ $d^+(v) \leq k$.
    
    Let $Z \subset N^-[v]$ and the partition $\{X,Y\}$ of $Z$ such that $X\subset N^-[v]$ and  $Y\subset N^-(v)$.
           
    Consider a matching $A\colon X \to V^+(v)$. Let $e=(a,b)$ be an edge in $A$.
    $N^+(a)$ is a clique and $v\in N^+(a)$, thus $b$ is adjacent to $v$. Therefore $X =\rng(A)\subset N^+(v)$. Therefore $|X| \leq |N^+(v)| \leq k$. 
    
    Consider a matching $B\colon Y \to V^+[v]$. Let $e=(a,b)$ be an edge in $B$.
    Note that $N^+(a)$ is a clique and $v\in N^+(a)$, thus $b$ is adjacent to $v$. Therefore $Y =\rng(B)\subset N^+[v]$. Therefore $|Y| \leq |N^+[v]| \leq k+1$. 
        
    $m(v,L,G) \leq |Z| = |X|+|Y|$. Therefore by definition of rank \[r(v,L,G) = d^+(v) + m(v,L,G) \leq 3k +1 \qedhere\]        
\end{proof}

\begin{corollary}
    Let $G$ be a graph of treewidth $k$. Then, 
    \[\chi_g(G) \leq 3k + 2\]
\end{corollary}

\begin{proof}
    Let $G$ be a graph of treewidth $k$.
    Therefore $G$ is a subgraph of a $k$-tree. Therefore by theorem \ref{thm:ktreeUpper} \[\chi_g(G) \leq 3k + 2 \qedhere\] 
\end{proof}

%-------------------------------------------------------------------------------------------------------------------
\subsection{Extending the activation strategy}

The activation strategy works well for the $(1,1)$--marking game but fails in the general $(a,b)$--marking game. A desire to have a simple strategy $(a,b)$--marking game prompted to Kierstead and Yang to refine the $(a,b)$--marking game by introducing two new strategies for Alice, the Harmonious Strategy and the limited Harmonious Strategy.  For a graph $G$ let $O(G)$ be the set of all orientations of G, and let $\Delta^*(G)=\min_{\vec{G}\in O(G)}\Delta^+(\vec{G})$. That is $\Delta^*(G)$ is the smallest maximum outdegree in all the orientations of $G$. They use their the Harmonious Strategy to prove theorem \ref{thm:kiYa2005}.

\begin{theorem}[Theorem 1 in \cite{kierYang2005}]\label{thm:kiYa2005}
    Let a be an integer and $G$ be a graph with $\Delta^*(G) = k\leq a$. Then
    $\col(G;a,1) \leq 2k + 2$.
\end{theorem}

The Harmonious Strategy is used in the case the game is very asymmetric, i.e. $\Delta^*(G)\leq \frac{a}{b}$. A summery of the Harmonious Strategy is as follows. Note that this strategy is most useful if $a$ is larger than the maximum out degree in a linear ordering on the vertices.

Suppose there is a linear ordering on the vertices in G and Bob has just marked a vertex x. Alice plays by performing the following steps $a$ times.    
\begin{enumerate}
    \item  Alice selects, $y$, the with the least unmarked outneighbor of $x$ to whom $x$ has not yet contributed and then contributes to y. If there is no such vertex she selects the least unmarked vertex.
    \item  The contribution from $y$
    is passed along until finally it arrives at a vertex $z$ that has already
    contributed to all its outneighbors.
    \item  Alice marks $z$
\end{enumerate}

The Harmonious Strategy is used to find upper bounds for the classes of general graphs, interval and chordal graphs, planar graphs, and outerplaner graphs. For a class of graphs $\mathcal{X}$, let $\mathcal{X}_k= \{G\in\mathcal{X}: \Delta^*(G)\leq k\}$. Some of the bounds are as follows.    
\begin{itemize}
    \item If $a < k$ then $\col(\GG_k;a,b)=\infty$
    \item $\col(\II)=3k+1\leq\col(\CC_k)=3k+2$
    \item If $3<a $ then $7\leq \col(\PP;a,b)\leq 8$
    \item If $2< a$ then $5\leq \col(\QQ;a,b)\leq 6$
\end{itemize}
More generally we have the following theorem for when Alice uses the Harmonious Strategy.
\begin{theorem}[Theroem 13 in \cite{kierYang2005}]
    let $a$ and $b$ be positive integers and $G$ a graph with $\Delta^*(G)=k\leq\frac{a}{b}$. Then $\col(G;a,b)\leq 2k+b+1$.
\end{theorem}

In the case that $a$ is less than $\Delta^*(G)$ the Harmonious Strategy is limited as Alice may not be able to mark all the out neighbours of a vertex. The limited Harmonious Strategy is the evolution of both the standard activation strategy and the Harmonious Strategy. The primary difference with the Harmonious Strategy is the in the limited strategy Alice only marks a vertex if it has contributed to at least $a$ out neighbours.    

The bounds found with the limited Harmonious Strategy, while good, are not as tight as the Harmonious Strategy. This provides the motivation to introduce a new strategy. In Yang and Zhu 2008 \cite{yangZhu2008} the authors introduce the $(a,1)$--Activation strategy for the $(a,1)$--marking game based on the popular activation strategy. Informally we summarise the strategy as follows. Suppose that Bob has just marked a vertex $u$, Alice repeats the following steps $a$ times to mark $a$ vertices.
\begin{enumerate}
    \item Alice activates $u$. If $u$ has no outneighbours then Alice marks the least vertex. Otherwise let $z=u$
    
    \item Let $v$ be the least outneighbour of $z$. Alice activates $v$ if $v$ has been activated less than $a$ times, otherwise she marks $v$. \label{step2}
    
    \item If $v$ has no outneighbours then she marks $v$. Otherwise she lets $z=v$ and repeats \ref{step2} until she marks a vertex.     
\end{enumerate}
In summery, the primary difference between the original activation strategy and the $(a,1)$--activation strategy each vertex is activated $a$ times before it is marked.

%Before we formally define the asymmetric activation strategy we need some notation. Let $L$ be a linear order on $V(G)$, and $G_L$ the corresponding orientation of $G$. For each vertex, $v$, of $G$ let $L_v$ be a linear order on $N^+_{G_L}(v)$. 

\begin{definition}[$(a,1)$--Activation strategy, \cite{yangZhu2008}] 
    Let $G$ be a graph, and let $U$ denote the set of unmarked vertices, and for all $v\in V(G)$ let $t_v=a$ track the number of activations. Let $L$ be a linear order of on $V(G)$, and let $G_L$ be the corresponding orientation of $G$. %Let $L_v$ be a linear order on $N^+_{G_L}(v)$. 
    %todo why are L_x and L seperate orerings       
    For simplicity we consider the equivalent $(a,1)$--marking game where Bob goes first. Suppose that Bob has just activated a vertex $u$, Alice uses algorithm \ref{alg:asymActivStrat} to update the graph and mark vertices.
    
    \begin{algorithm}[h]
        \caption{$(a,1)$--Activation strategy}
        \label{alg:asymActivStrat}
        \begin{algorithmic}[1]
            \Statex
            \For{$i$ from $1$ to $a$ and $U\neq\emptyset$}
                \If{$((N^+\cap U\neq \emptyset) \land (t_u>0))$} 
                    \State $v\gets \min_L (N^+(u)\cap U)$ %todo L_x min
                    \State $t_u \gets t_u-1$
                    \Else 
                    \State $v\gets \min_L U$                  
                \EndIf
                \While{$((N^+(v)\cap U\neq \emptyset) \land (t_v>0))$}
                    \State $t\gets \min_L (N^+(v)\cap U)$ %todo L_y min
                    \State $t_v \gets t_v-1$
                    \State $v\gets t$
                \EndWhile
                \State $U \gets U \setminus v$
                \State Mark the vertex $v$
            \EndFor
        \end{algorithmic}
    \end{algorithm}
    
    Consider a graph $G$ and a linear order $L$ on $V(G)$. We define a loose out neighbour of a vertex $v$ as a vertex $u$ such that either $u\in N^+(v)$ or there exists a vertex $z$ such that $u,v\in N^-(z)$ and $u<_L v$. 
    
    By using the Asymmetric Activation Strategy on the $(a,1)$--marking game we get the following upper bound for $\col(G;a,1)$.

    \begin{theorem}[Theorem 2.2 in \cite{yangZhu2008}]  %todo differntent rank notation
        Let $G_L$ be an orientated graph with $\Delta^+(G_L)=k>a$ and let $r$ be the maximum number of loose out neighbours of any vertex in $V(G)$. If Alice uses the Asymmetric Activation Strategy then \[\col(G;a,1)\leq k+\left\lfloor (1+\frac{1}{a})r \right\rfloor +2\]
    \end{theorem}

\end{definition}



%-------------------------------------------------------------------------------------------------------------------
\subsection{Refined Activation Strategy}\label{sec:refActStrat}
The refined activation strategy is a refinement on the activation strategy introduced by Xuding Zhu in \cite{Zhu2008}. The refined activation strategy is used to find the current best upper bound for the $(1,1)$--marking game for the class of planar graphs. 

\begin{theorem}[Theorem 1, Zhu 2008 \cite{Zhu2008}]
    If $G$ is a planar graph, then \[\chi_g(G)\leq\col(G)\leq17\]
\end{theorem}

The refined activation strategy applies the same basic strategy as the standard activation strategy but with two main differences. First, instead of a linear ordering on $V(G)$ we use orientation of the graph $G$ as our ordering. This is only a partial ordering, so we partition $V(G)$ into blocks $B_1,B_2,\dots,B_i$, where if $x \in B_i$, $y \in B_j$ and $i <$ then the edge $xy$ is in $L$. The ordering may not be an ordering in each block. However if we ignore what happens in each block we get a linear ordering.

Second when we activate a vertex $v$ if the edge $(u,v)$ fulfils some conditions then reverse the direction of the edge $(u,v)$ in $L$. That is within the blocks the ordering changes as the marking game is played.

%\section{Online colouring}
%
%\begin{theorem}[Kierstand and Trotter \cite{KierstandTrotter}]
%    An Interval graph can be online coloured with $3\omega-2$ colours, where $\omega$ is the size of the maximum clique.
%\end{theorem}
%
%Can cover a graph with $ 3\omega-2 $ chains. In inductive proof each new $ A $ has pathwidth 2 thus can be game coloured in 7 colours. Conjecture that double trouble is $ 7*(\omega-1)+1 = 7\omega-6 $. however this relies on being able to see the whole of $ A $.
%
%\begin{theorem}[Kierstand \cite{KIERSTEAD2000}] \label{thm_intervalKierstand}
%    An Interval graph has game chromatic number $3\omega-2$ where where $\omega$ is the size of the maximum clique.
%\end{theorem}
%
%The proof of theorem \ref{thm_intervalKierstand} is similar to the proof of theorem \ref{thm_pathwidth}. 
%However he defines his linear order as left to right on left most element in each interval.  
%As a graph is of pathwidth $k$ if and only if it is a subgraph of an interval graph with maximal clique size $k+1$, these theorems are equivalent. These are the same because they both use the ordering of the left most element in each interval and first fit.        


%Link between decadency of graph and double trouble?

%vertex separation number > degeneracy, thus find double trouble for pathwidth, find for all graphs. 















