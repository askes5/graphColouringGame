\chapter{Colouring}

A $k$--vertex colouring of a graph $G$ is a mapping from $V(G)$ to the colours $C=\{1,\dots,k\}$. A proper $k$--vertex colouring is a mapping such that for two vertices $u,v\in V(G)$ if $u$ and $v$ are neighbours they are different colours. The chromatic number,$\chi(G)$, of a graph $G$ is the smallest $k$ such that $G$ has a proper  $k$--vertex colouring.

We define the colouring game played between Alice and Bob as follows. Let $G$ be any graph, and $C$ a set of colours. Beginning with Alice, Alice and Bob take alternating turns. On their turn they choose an uncoloured vertex, $v$, and assigns $v$ a colour from $C$ such that no two adjacent vertices in $G$ have the same colour. This continues until one of two win conditions are meet. First, Alice wins if all the vertices are coloured. Second, Bob wins if there is a vertex that cannot be coloured with the available colours.

%todo add basic results e.g. \chi of subgraphs, composition, disconnected graphs, etc.

\begin{definition}
    Let $G$ be a graph. Then, $\chi_g(G)$ is the smallest number of colours needed to guarantee that Alice has a winning strategy on $G$, when playing the colouring game.     
\end{definition}

We also consider the an extension of the colouring game to the $(a,b)$--colouring game. In the $(a,b)$--colouring game the win conditions and rules are the same as the standard game but for every turn Alice colours $a$ vertices and Bob colours $b$ turns.
\begin{definition}
    let $G$ be a graph, and $a,b\in\mathbb{N}$. 
     Then, $\chi_g(G;a,b)$ is the smallest number of colours needed to guarantee that Alice has a winning strategy on $G$, when playing the $(a,b)$--colouring game. 
\end{definition}
Note that $\chi_g(G) = \chi_g(G;1,1)$.

Consider a graph $G$ if there is a winning strategy for Bob with $n$ colours then $n$ is a lower bound for the game chromatic number of $G$. That is $\chi_g(G)>n$. This is because Alice cannot possibly win with less than $n$ colours. Conversely a winning strategy for Alice with $m$ colours is an upper bound,  $\chi_g(G)\leq n$.

%todo add better title
\section{Lower bounds in the $(a,b)$--colouring game}

The first results we will look at are some lower bounds for the game chromatic number.

\begin{theorem}
    Let $\TT$ be the family of trees. If we have $b \geq 1$  then,
    \[\chi_g(\TT;1,b) \geq b+3 \]
\end{theorem}

The following proof is an extended version of the proof of Theorem 5.4 in Bodlaender 1990 \cite{bodlander1990}

\begin{proof}
    It suffices to show that there is a tree in where Bob has a winning strategy with $b+2$ colours.
    
    Consider the graph $G$ as defined in figure \ref{figure_multiPlayerTree1}. 
          
   \begin{figure}[h]
       \centering
        \begin{tikzpicture}[scale=.9, transform shape]
        \node [normal] (v7) at (-7.5,1) {};
        \node [normal] (v6) at (-11,1) {};
        \node [normal] (v5) at (-14.5,1) {};
        \node [normal] (v2) at (-18.5,1) {};
        \node [normal] (v1) at (-21,1) {};
        \node [normal] (v3) at (-19,-1) {};
        \node [normal] (v4) at (-17,-1) {};
        \node [normal] (v11) at (-15,-1) {};
        \node [normal] (v10) at (-13.5,-1) {};
        \node [normal] (v9) at (-11.5,-1) {};
        \node [normal] (v8) at (-10,-1) {};
        \node [normal] (v15) at (-9,-1) {};
        \node [normal] (v16) at (-8,-1) {};
        \node [normal] (v17) at (-6.5,-1) {};
        \node [normal] (v12) at (-20,-1) {};
        \node [normal] (v13) at (-16,-1) {};
        \node [normal] (v14) at (-12.5,-1) {};
        \node [normal] (v18) at (-5,1) {};
        \draw  (v1) edge (v2);
        \draw  (v1) edge (v2);
        \draw  (v2) edge (v3);
        \draw  (v2) edge (v4);
        \draw  (v2) edge (v5);
        \draw  (v5) edge (v6);
        \draw  (v6) edge (v7);
        \draw  (v6) edge (v8);
        \draw  (v6) edge (v9);
        \draw  (v5) edge (v11);
        \draw  (v5) edge (v10);
        \draw  (v2) edge (v12);
        \draw  (v13) edge (v5);
        \draw  (v14) edge (v6);
        \draw  (v15) edge (v7);
        \draw  (v16) edge (v7);
        \draw  (v7) edge (v17);
        \draw  (v7) edge (v18);
        \node at ($(v3)!.5!(v4)$) {\ldots};
        \node at ($(v3)!.5!(v4)$) {\ldots};
        \node at ($(v11)!.5!(v10)$) {\ldots};
        \node at ($(v9)!.5!(v8)$) {\ldots};
        \node at ($(v16)!.5!(v17)$) {\ldots};
        
%        \draw [decorate,decoration={calligraphic brace,amplitude=11pt,mirror,raise=2ex}, line width=1.5pt]
%        (v12) -- (v4) node[midway,yshift=-3em]{$p$ vertices};
        \draw[decorate, decoration={brace, amplitude=10pt,mirror,raise=2ex}, thick] ($(v12)+(-.25,0)$)--($(v4)+(.25,0)$) node[midway,yshift=-3em]{$b+1$ vertices};
        \end{tikzpicture}
        \caption{}
        \label{figure_multiPlayerTree1}
    \end{figure}    

    
    Let the set of available colours be $\{c_1,c_2,\ldots,c_{b+1},c_{b+2}\}$.
    On Alice's first move she picks any vertex, $v$, and colours it. Let the colour of $v$ be $c_1$.
    Bobs first move is to colour any vertex with distance 3 to $v$. We now have a subgraph in $G$ of the type shown in figure \ref{figure_subgraphColouring}. We then colour $y_1$ \ldots $y_{b-1}$ with $c_2$ \ldots $c_{b}$ respectively.
\begin{figure}[H]
    \centering
    \begin{tikzpicture}[scale=1,transform shape]
    \tikzstyle{every node}=[circle]; 
    \node [label=above left:4, normalBlack, label=below right:{\footnotesize$c_1$}] (v6) at (-11.5,1) {};
    \node [label=above left:3, normal] (v5) at (-14.5,1) {};
    \node [label=above left:2, normal] (v2) at (-19.5,1) {};
    \node [label=above left:1, normalBlack, label=below right:{\footnotesize$c_1$}] (v1) at (-22,1) {};
    \node [label=below:$x_1$, normal] (v12) at (-21,-1) {};
    \node [label=below:$x_2$, normal] (v3) at (-20,-1) {};
    \node [label=below:$x_{b+1}$, normal] (v4) at (-18.5,-1) {};
    \node [label=below:$y_1$, normalBlack, label=above left:{\footnotesize$c_2$}] (v13) at (-16.5,-1) {};
    \node [label=below:$y_2$, normalBlack, label=above left:{\footnotesize$c_3$}] (v11) at (-15.5,-1) {};
    \node [label=below:$y_{b-1}$, normalBlack, label=above left:{\footnotesize$c_{b}$}] (v10) at (-14,-1) {};
    \node [label=below:$y_{b}$,normal] (v7) at (-13,-1) {};
    \node [label=below:$y_{b+1}$,normal] (v8) at (-12,-1) {};
    \draw  (v1) edge (v2);
    \draw  (v2) edge (v3);
    \draw  (v2) edge (v4);
    \draw  (v2) edge (v5);
    \draw  (v5) edge (v6);
    \draw  (v5) edge (v11);
    \draw  (v5) edge (v10);
    \draw  (v2) edge (v12);
    \draw  (v13) edge (v5);   
    \draw  (v5) edge (v7);
    \draw  (v5) edge (v8);
    \node (e1) at ($(v3)!.5!(v4)$) {\ldots};
    \node (e1) at ($(v11)!.5!(v10)$) {\ldots};
    \end{tikzpicture}
    \caption{}
    \label{figure_subgraphColouring}
\end{figure}

    We consider three cases.
    
    \begin{enumerate}
        \item Alice colours $2$, $x_1$, $x_2$, \ldots, or $x_{b+1}$.
        
        Bob colours $y_{b}$ with $c_{b+1}$ and $y_{b+1}$ with $c_{b+2}$. 
        Vertex $3$ now has $b+2$ different coloured neighbours and thus Bob wins.     
                    
        \item Alice colours $3$.
               
        The colour of $3$ cannot be one of $c_1 \ldots c_{b}$. Therefore $3$ is either $c_{b+1}$ or $c_{b+2}$. 
        Without loss of generality assume the colour of $3$ is $c_{b+2}$.
        Bob colours $x_1, \dots ,x_{b}$ with $c_2,\dots,c_{b+1}$ respectively.
        Vertex $2$ now has $b+2$ different coloured neighbours and thus Bob wins.  
                       
        \item Alice colours $y_{b}$ or $y_{b+1}$
        
        Bob colours $2$ with $c_{b+1}$ and $y_{b+1}$ (or $y_{b}$ if Alice coloured $y_{b+1}$) with $c_{b+2}$ .
        Vertex $2$ now has $b+2$ different coloured neighbours and thus Bob wins. 
    \end{enumerate}

    Therefore we have a winning strategy on $G$ in $\TT$ for Bob with $b+2$ colours. 
\end{proof}

\begin{definition}[Path decomposition]
    Let $G$ be a graph. A path decomposition is list of subsets of $V(G)$, $P=\{P_1,P_2,\dots,P_n\}$ such that $\bigcup P=V(G)$ and has the following properties.    
    \begin{enumerate}[(i)]
        \item For all edges $uv$ in $G$ there exits an $i$ such that such $u,v\in P_i$
        \item If there exits an $i\leq j$ and a vertices $u,v$ such that $v\in P_i$ and $v\in P_j$ then for all $i<l<j$ $v\in P_l$
    \end{enumerate}
    The width of a path decomposition is one less the size if the largest set in $P$.
\end{definition}

\begin{definition}[Pathwidth]
    The pathwidth of a graph $G$ is the minimum width of path decomposition of $G$.    
    A graph of bounded pathwidth, $k$, is a graph with a pathwidth less than or equal to $k$. 
\end{definition}

\begin{theorem}
    Let $\PP$ be family of graphs with bounded pathwidth $k$. If we have $b\geq1$  then \[(b+1)k+\left\lceil \frac{b}{2}\right\rceil\leq\chi_g(\PP;1,b)\]
\end{theorem}
%todo upper bound of pw?
%activation stragety only play aginest players in linear order of selection is at least (p+1)w +1. 
%conjecture that tree is (p+1)w+1

Note that in a maximal graph, $G$, of pathwidth $k$  $k < \chi_g(G) $. %todo expand

\begin{proof}
    It suffices to show that there exists a graph in $\PP$ for which bob has a winning strategy with $m=(b+1)k+\left\lceil\frac{b}{2}\right\rceil-1$ colours. Let the available colours be $C=\{c_1,c_2,\dots,c_m\}$.
    
    We define the graph $G$ as follows. First start with a $k$-clique, $K_k$. Second take $n=(b+1)^2k$ vertices, $v_1,\dots,v_n$ and connect each $v_i$ to each vertex in $K_k$, forming a $k+1$-clique. Now copy this graph,  and connect the copies at any vertex not in $K_k$. We now have the graph, $G$, as in figure \ref{fig:pwlowerbound1}. Note: $v_1=t_1$. 
    
    Note that $G$ has the path decomposition $\{K_k\cup\{v_n\}, K_k\cup\{v_{n-1}\}, \dots, K_k\cup\{v_1\}, K_k'\cup\{v_1\}, K_k'\cup\{t_2\}, \dots, K_k'\cup\{t_n\}\}$, and therefore has path width $k$.
\begin{figure}[H]
    \centering
\begin{tikzpicture}[rotate=90]
\draw[thick]  (0,0) ellipse (4 and 1);
\node [normal, label=right:$t_{n}$] (v1) at (0,3) {};
\node [normal, label=below:$v_{1}(t_1)$] (v6) at (0,5) {}; 

\node[normal, label=below:$s_{1}$] (v7) at (-3,0) {};
\node[normal, label=below:$s_{2}$] (v8) at (-1.5,0) {};
\node[normal, label=below:$s_{k-1}$] (v9) at (1.5,0) {};
\node[normal, label=below:$s_{k}$] (v10) at (3,0) {};
\draw  (v7) edge (v1);
\draw  (v1) edge (v8);
\draw  (v1) edge (v9);
\draw  (v1) edge (v10);
\draw (v8) -- (v6) -- (v9);

\node [] at (3.5,9) {$K_k$};
\draw [](v7) -- (v6) -- (v10);

\path (v1) -- (v6) node [ font=\Huge, midway, sloped,rotate=90] {$\dots$};
\path (v8) -- (v9) node [ font=\Huge, midway, sloped,rotate=90] {$\dots$};



\draw[thick]  (0,10) ellipse (4 and 1);
\node [normal, label=left:$v_{n}$] (v11) at (0,7) {};

\node [] at (3.5,-1) {$K_k'$};
\node[normal, label=below:$u_{1}$] (v17) at (-3,10) {};
\node[normal, label=below:$u_{2}$] (v18) at (-1.5,10) {};
\node[normal, label=below:$u_{k-1}$] (v19) at (1.5,10) {};
\node[normal, label=below:$u_{k}$] (v110) at (3,10) {};
\draw  (v17) edge (v11);
\draw  (v11) edge (v18);
\draw  (v11) edge (v19);
\draw  (v11) edge (v110);
\draw (v18) -- (v6) -- (v19);

\draw [](v17) -- (v6) -- (v110);

\path (v11) -- (v6) node [ font=\Huge, midway, sloped,rotate=90] {$\dots$};
\path (v18) -- (v19) node [ font=\Huge, midway, sloped,rotate=90] {$\dots$};

%------------------------------------
\end{tikzpicture}
    \caption{Graph $G$}
\label{fig:pwlowerbound1}
\end{figure}

We can consider two disjoint copies of $G$. On Bob's first turn he colours in whichever copy Alice didn't. Hence we can assume that Bob can colour first.

Therefore on Bobs first turn he colours $v_1$ $c_1$ and as many of $v_2,t_2,v_3,t_3,\dots$ in order that he can on his turn.
 By symmetry of $G$ was can assume Alice colours one of $t_2,\dots,t_n,s_1,\dots,s_k$. 

We consider the subgraph, $H$, in figure \ref{fig:pwlowerbound2}, that Alice has not coloured in yet. 

\begin{figure}[H]
    \centering
\begin{tikzpicture}
\draw[thick]  (0,0) ellipse (4 and 1);
\node [normal, label=right:$v_{n}$] (v1) at (0,3) {};
\node [normal, label=right:$v_{1}$] (v6) at (0,5) {}; 
\node (v3) at (-4,0) {};
\node (v4) at (4,0) {};



\node [] at (3.5,-1) {$K_k$};
\node[normal, label=below:$u_{1}$] (v7) at (-3,0) {};
\node[normal, label=below:$u_{2}$] (v8) at (-1.5,0) {};
\node[normal, label=below:$u_{k-1}$] (v9) at (1.5,0) {};
\node[normal, label=below:$u_{k}$] (v10) at (3,0) {};
\draw  (v7) edge (v1);
\draw  (v1) edge (v8);
\draw  (v1) edge (v9);
\draw  (v1) edge (v10);
\draw (v8) -- (v6) -- (v9);

\draw [](v7) -- (v6) -- (v10);

\path (v1) -- (v6) node [ font=\Huge, midway, sloped] {$\dots$};
\path (v8) -- (v9) node [ font=\Huge, midway, sloped] {$\dots$};
\end{tikzpicture}
    \caption{Graph $H$}
    \label{fig:pwlowerbound2}
\end{figure}


Bob's strategy is to always colours $b$ uncoloured vertices not in $K_k$ with colours not used in $H$. We keep playing until either $K_k$ is fully coloured bar one, or Bob runs out of new colours. We consider the cases separately 

Every turn Bob uses $b$ unique colours. Therefore it will take at least $((b+1)k-1)\div(b)$ turns to exhaust all the colours. Each turn $b+1$ vertices are coloured and here are $n=(b+1)^2k$ vertices for Bob to colour. $(b+1)^2k > (b+1)((b+1)k-1)\div((b+1)-1)$ . Therefore Bob cannot run out of vertices to colour before he runs out of colours.

First, suppose $K_k$ is fully coloured bar one. Let the uncoloured vertex be $x$. On the first turn Bob coloured $b$ vertices, but at most half of these are in $H$ and so Bob coloured $\left\lceil \frac{b}{2}\right\rceil$ vertices in $H$. On the second turn Alice coloured no vertex in $H$ and Bob $b$ vertices. As each coloured vertex in $K_k$ must have been coloured by Alice there have been at least $k-1$ turns after the second turn and each turn Bob coloured $b$ vertices. Finally when each vertex in $K_k$ was coloured the vertex must have coloured differently than the ones before it. Therefore the total number of unique coloured neighbours of $x$ is 
%
\[\left\lceil \frac{b}{2}\right\rceil+b +b(k-1)+(k-1)=(b+1)k+\left\lceil \frac{b}{2}\right\rceil-1\]
%
Therefore $x$ cannot be coloured, and Bob wins.

Second, suppose Bob has run out of colours then every uncoloured vertex in $K_k$ is connected to $(b+1)k-1$ many unique coloured neighbours and thus cannot be coloured, therefore Bob has won.
\end{proof}
%---------------------------------------

%#####################################################################################################################
\section{Activation Strategy}
%----------------------------------------------------------------------------------------

Introduced by by H. A. Kirstead in \cite{KIERSTEAD2000} the activation strategy is strategy for Alice to use to play the marking game. It is built on the work in \cite{faKeKiTr1993}, where the authors introduced a winning strategy for Alice in the class of forests. In which they showed that $\chi_g(\FF)=4$. 

To provide bounds for the game chromatic number we introduce the marking game. The marking game was formally introduced in Zhu 1999 \cite{Zhu1999}. Is commonly used for finding upper bounds for the game chromatic number. For example the current upper bound for the class of planar graphs was found using a strategy on the marking game \cite{Zhu2008}.

We define the marking game as follows. Let $G$ be a graph, and $t$ a target score. Starting with Alice, Alice and Bob take turns to choose an unchosen vertex, $v$ in $G$. The order in which the vertices were chosen forms a linear order, $L$. The score of the game is $\max_{v\in V(G)}\{d^+_L(v)\}$. Alice wins is the score is less than $t$ and Bob wins otherwise.

\begin{definition}[game colouring number]
    Suppose $G$ is a graph. The game colouring number $\col(G)$ is the minimum target score in the marking game such that Alice has a winning strategy. 
\end{definition}

Suppose that Alice has a winning strategy in the ordering game on a graph $G$, with target score $t$. By using first fit colouring she also has a winning strategy for the colouring game. This can be seen as she any vertex she chooses will have at most $t$ coloured neighbours. Hence the game chromatic number is bound by the colouring number, that is $\chi_g(G)\leq\col(G)$

%For $\FF$ be the family of forests, $\II$ the family of interval graphs with clique number $k$, $\PP$ the family of planar graphs, $\QQ$ the family of outer planar graphs, and $\KK$ the family of partial k-trees. %note K_k is exactly the graphs of bounded tree width.
%The game colouring number for these classes of graphs are known. 
%todo either remove this or add refferences

A quick note on notation. Let $G$ be a graph, $L$ a linear order on $V(G)$, and $\Pi(G)$ the set of all linear orders on $V(G)$. $G_L$ is the orientation induced by $L$ on the graph $G$, that is for any two vertices, $u,v\in V(G)$ we have the directed edge $uv$ iff $u>_Lv$. 

Let $v$ be a vertex in $V(G)$ and $N(v)$ be the set of neighbours of $v$. Then with respect to $v$ the outneighbours are $N^+_{G_L}(v)=\{u\in N(v):v>_L u\}$, the inneighbours $N^-_{G_L}(v)=\{u\in N(v):v<_L u\}$, the indegree is $d^+_{G_L}(v)=|N^+(v)|$, and the outdegree is $d^+_{G_L}(v)=|N^-(v)|$. In $G$ the maximum outdegree is $\Delta^+(G)=\max_{v\in V(G)}N^+(v)$, and the maximum indegree is $\Delta^-(G)=\max_{v\in V(G)}N^-(v)$. Let $V^+(v)=\{u\in V(g):v>_L u\}$, and $V^-(v)=\{u\in V(g):v<_L u\}$.  When it is clear from context we will drop the $G_L$ subscript. Finally let $N^+[v]=N^+(v)\cup\{v\}$, $N^-[v]=N^-(v)\cup\{v\}$, $V^+[v]=V^+(v)\cup\{v\}$,$V^-[v]=V^-(v)\cup\{v\}$. %todo improve
 

\subsection{Summery of activation strategy}

Consider a graph $G(V,E)$ with a linear ordering $L$ on $V$. $U$ is the set of unmarked vertices, and $A$ the active ones.

An informal summery of the activation strategy is as follows. Alice starts by marking the least $v$ in $L$. If $u$ is the last marked vertex by Bob, Alice starts at $u$ activates it and moves to the least unmarked neighbour of $u$, say $w$, in $L$. If $w$ is active Alice marks $w$, if not Alice repeats this on $w$ until she finds an active vertex.

%TODO trim waffle
\begin{definition}(graph Rank)[Kierstead, \cite{KIERSTEAD2000}] \label{defnRank}
    Suppose $A,B$ are disjoint subsets of $V$. We say that a matching $M$ is a matching from $A$ to $B$ if $M$ saturates $A$ and $B\setminus A$ contains a cover of M. 
    
    Let $L$ be a linear order, $G=(V,E)$ be a graph, and $u$ a vertex in $V$.
        
    For $u \in V(G)$ the matching number $m(u, L, G)$ of $u$ with respect to $L$ in $G$ is defined to be the size of the largest set $Z \subset N^-[u]$ such that there exists a partition $[X, Y]$ of $Z$ and there exist matchings $M$ from
    $X\subset N^-[u]$ to $V^+(u)$ and $N$ from $Y\subset N^-(u)$ to $V^+[u]$.
    
    Then the rank $r(L,G)$ and rank $r(G)$ are defined as:
    \begin{align*}
    	r(u,L,G) & = d^+_{G_L}(u) + m(u,L,G) \\
    	r(L,G)   & = \max_{u \in V}r(u,L,G)  \\
    	r(G)     & = \min_{L \in \Pi(G)} r(L,G)
    \end{align*}
\end{definition}
%todo investigate  d^+_{G_L} is less than or eqaul to the degenerary number of the graph
% if N+ < a and d+ < b then  \col <= a+b+1 

\begin{definition} [Activation strategy \cite{KIERSTEAD2000}]
    Let $G=(V, E)$ be a graph and $L$ a linear ordering $V$. We define the activation strategy $S(L,G)$ as follows:
    
    Let U denote the set of unmarked vertices. Alice maintains a subset $A \subset V$ of active vertices. Initially $A = \emptyset$. We activate a vertex $x$ by adding it to $A$. On her first turn Alice activates and marks the least vertex in the ordering $L$. Now suppose that Bob has just marked the vertex $b$. Alice uses algorithm \ref{alg:activStrat} to update A and choose the
    next vertex.
    \begin{algorithm}[h]
        \caption{Activation strategy}
        \label{alg:activStrat}
        \begin{algorithmic}[1]
            \Statex
            \State $x \gets b$ 
            
            \While {$x \notin A$}
                \State $A := A \cup \{x\}$
                \State $s(x) =\min_L(N^+[x] \cap (U \cup \{b\} )$
                \State $x \gets s(x)$
            \EndWhile      
            
            \If{$x \neq b$} 
                \State choose x
            \Else
                \State $y \gets \min_L U$
                \If{$y \neq A$}
                    \State $A \gets A \cup \{y\}$                    
                \EndIf     
                \State choose y
            \EndIf   
        \end{algorithmic}
    \end{algorithm}
    
\end{definition}


\begin{theorem}[Kierstead 1 \cite{KIERSTEAD2000}] \label{thm_KIERSTEAD1}
    For any graph $G=(V, E$) and linear ordering $L$ on $V$, if Alice uses the activation strategy $S(L, G)$ to play the ordering game on $G$, then the score will be at most $1+r(L, G)$. In particular, $\col(G) \leq 1+r(G)$.
\end{theorem}

%A proof of $\chi_g(G) \leq 18$ is now a matter of finding an ordering $L$ such that by theorem \ref{thm_KIERSTEAD1} $r(G) \leq 17$. See \cite{KIERSTEAD2000}.

%TODO add defination reference

\subsection{proofs using the activation strategy}
We now provide some basic results that demonstrate typical usage of the activation strategy. We bound the families of graphs with bounded pathwidth and with bounded tree width.

%
%\begin{algorithm}[h]
%    \caption{Linear order in path decomposition}
%    \label{algo_LinOrderPW}
%    \begin{algorithmic}[1]
%        \Require {$\mathscr{X}=\{X_1,X_2,\dots,X_n\}$ is the path decomposition of a graph $G$}
%        \Ensure {$L$ is a linear order on $V(G)$}
%        
%        \Function{LOinPath}{$\mathscr{X}$}
%        
%            \State $Q \gets \emptyset$ \Comment $Q$ is a FIFO queue
%            \State $L \gets \emptyset$ \Comment our linear order for $V(G)$
%           
%            \ForAll {$X_i \in \mathscr{X}$}
%                \State $Q' \gets Q \cup (X_i\setminus Q)$ \Comment $Q'$ is a FIFO queue
%                \State $Q \gets \emptyset$
%                \ForAll {$x \in Q'$}
%                    \If {$x \in \{X_{i+1} \cup \dots \cup X_n\}$}
%                        \State $Q \gets Q\cup \{x\}$
%                    \Else 
%                        \State $L \gets L\cup \{x\}$   
%                    \EndIf    
%            \EndFor
%           
%            \EndFor 
%            \State \textbf{return}  $L$
%       \EndFunction 
%    \end{algorithmic}
%\end{algorithm}
%
%The following lemma is effectively the definition of the linear order given by algorithm \ref{algo_LinOrderPW}. 
%
%\begin{lemma} \label{lemma_neighboursAfter}
%    Let $P=(E,V)$ be a graph of pathwidth $k$ and $\{X_1,X_2,\dots,X_n\}$ be a path decomposition of $P$ of width $k$.
%    
%    Suppose $L$ is a linear ordering on $V$ generated by algorithm \ref{algo_LinOrderPW} and $v$ is a vertex in $P$. Then there is some $i$ such that $v\in X_i$ and $N^-(v) \subset X_i$. Further $i$ is the largest $i$ for which $X_i$ contains $v$. 
%\end{lemma}
%
%\begin{proof}
%    Let $X_i$ be the segment in which $v$ is added to $L$, that is $i$ is the number of times line 4 has been looped when $v$ is added to $L$.  
%    The algorithm adds a vertex $v$ to $L$ iff there is no $j> i$ such that $v \in X_j$. Thus $i$ is the greatest $i$ such that $v \in X_i$. Therefore by definition of path decomposition all the neighbours of $v$ not in the $L$ are in $X_i$. Further the neighbours not in $L$ when $v$ is added to $L$ are greater than $v$ in $L$. Therefore is $N^-(v) \subset X_i$.
%\end{proof}



\begin{theorem}\label{thm_pathwidth}
    Let $G$ be a graph of pathwidth $k$. Then, 
    \[\chi_g(G) \leq 3k + 1\]    
\end{theorem}

\begin{proof}
    Let Let $G=(E,V)$ be a graph of pathwidth $k$, with path decomposition $\{P_i:i\in I\}$. 

    Consider the linear order $L$ on $V$ such that for any $a,b\in I$ where $a<b$ all elements in $P_a$ are less than all elements in $P_b\setminus P_a$.  
        
    $ L = P_1 \cup (P_2 \setminus P_1) \cup  (P_3 \setminus P_1\cup P_2) \cup \dotsm$ 
    
    We can see that for any vertex, $v, d^+(v) \leq k$.
    
    As $\chi_g(P) \leq{\col}(P)$ and $\col(G)\leq 1+r(G)$. By theorem \ref{thm_KIERSTEAD1} it suffices to show that for any vertex $v \in V$ $r(v,L,G) \leq 3k$. 
    
    Without loss of generality assume $G$ is maximal, that is all $P_i$ are cliques.
    
    Let $v$ be any vertex in $V$. Let $Z \subset N^-(v)$ and the partition $[X,Y]$ of $Z$ such that $X\subset N^-[v]$ and  $Y\subset N^-(v)$. 
    
    Consider a matching $M\colon X \to V^+(v)$. Let $e=(a,b)$ be an edge in $M$. $v\in N^+(a)$ and $N^+(a)$ is a clique as $N^+(a) \subseteq P_i$ for some $i$. Thus $b$ is adjacent to $v$ that is $b\in N^+(v)$. Hence $|X|\leq|N^+(v)\leq k$. 
    
    Consider a matching $N\colon Y \to V^+[v]$. Let $e=(a,b)$ be an edge in $N$. %The idea is $b\in N+(v)$
    There exits some $X_i,X_j$ such that $a\in X_i$ and $b\in x_j$. As $(a,b)$ is an edge by the definition of path decomposition $b\in X_i \lor a\in X_j$, for some $i,j\in I$. If $a \in X_j$ then $a < v$, this is a contribution. Thus $b\in X_i$. As $v\in X_i$ and $X_i$ is a clique $b$ is adjacent to $v$ that is $b\in N^+(v)$. Hence $|Y|\leq|N^+(v)\leq k$.  
    
    $|Z| = |X|+|Y|$ Therefore, \[r(v,L,G) = d^+_{G_L}(u) + m(u,L,G) \leq k + |X|+|Y| \leq 3k\qedhere\]
\end{proof}
%note: this proof is abusive, i.e. it completly violates the spirt of theorem 3.6.
%only works because N+ is bounded by the path width
%\begin{proof}
%    Suppose $P=(E,V)$ is a graph of pathwidth $k$ and let $\mathscr{X} = \{X_1,X_2,\dots,X_n\}$ be a path decomposition of $P$ with width $k$.
%    
%    Let $L$ is a linear ordering on $V$ generated by algorithm \ref*{algo_LinOrderPW} using $\mathscr{X}$. 
%    
%    As $\chi_g(P) \leq{\col}(P)$ and $\col(G)\leq 1+r(G)$. By theorem \ref{thm_KIERSTEAD1} it suffices to show that for any vertex $v \in V$ $r(v,L,G) \leq 2k + 1$.        
%    
%    
%    
%    By the definition of path width  all $X_i \in \mathscr{X}$, $ \left| X_i \right| \leq k + 1 $. And $d^+(v) \leq k$ by theorem \ref{thm_kinnersley}.
%
%    Let $Z\subset N^-[v]$.
%    
%    By lemma \ref{lemma_neighboursAfter} $N^-[v] \subseteq X_i$ for some $X_i \in \mathscr{X}$ . Therefore $\left| Z\right| \leq \left| N^-(v)\right| \leq |X_i| \leq k+1$. Therefore by definition \ref{defnRank} $m(u,L,P) \leq k+1$. Thus $r(v,L,G) = d^+_{G_L}(v) + m(v,L,G) \leq 2k +1$.
%\end{proof}

\begin{definition}[Tree decomposition]
    A tree decomposition $(X,T)$ of a graph $G$ is a tree, $T$, along a collection of subsets of $V(G)$ $X=\{X_1,\dots,X_n\}$, indexed by vertices in $T$, such that $V(G)=\bigcup X$ and obeys the following properties.
    \begin{enumerate}[(i)]
        \item For all edges $uv$ in $E(G)$ there exists an $i$ such that $u,v\in X_i$
        \item  If there exits an $x,y\in V(T)$ and vertices $u,v$ such that $v\in X_x$ and $v\in X_y$ then for all $l$ on the path from $x$ to $y$ $v\in P_l$.
    \end{enumerate} 
    The width of a tree decomposition is the maximum value of $|X_i| -1$ for all $i\in V(T)$.
\end{definition}

\begin{definition}[Treewidth]
    The treewidth of a graph $G$ is the minimum width of tree decomposition of $G$.    
    A graph of bounded treewidth, $k$, is a graph with treewidth less than or equal to $k$. 
\end{definition}

%in tree decom (\{X_1,X_2,\dots,X_n\},T) X_i is a vertex in T
\begin{algorithm}[h]
    \caption{Linear order in tree decomposition}
    \label{algo_LinOrderTW}
    \begin{algorithmic}[1]
        \Require {$\left( \mathscr{X}=\{X_i:i\in I\}, T \right) $ is the tree decomposition of a graph $G$. $r$ is the root of $T$}
        \Ensure {$L$ is a linear order on $V(G)$}
        
        \Function{LOinTree}{$(\mathscr{X},T)$, $r$}        
            \State $L \gets \emptyset$ \Comment our linear order for $V(G)$
            \State let $Q$ be a FIFO queue 
            \State $Q$.enqueue($r$)
            \State mark $r$ as visited
            
            \While{$Q$ is not empty}
                \State $v \gets Q$.dequeue()
                \State $L \gets L \cup \{v\setminus L\}$ \Comment add all elements in $V$ not already in the $L$
                \ForAll {$U\in N(v)$ s.t. $U$ is unvisited}
                    \State $Q$.enqueue($U$)
                    \State mark $U$ as visited
                \EndFor        
            \EndWhile 
            \State \textbf{return}  $L$
        \EndFunction
    \end{algorithmic}
\end{algorithm}

\begin{lemma} \label{Lemma_TWLinOrdBound}
    Let $G=(E,V)$ be a graph of treewidth $k$ and $(\{X_1,X_2,\dots,X_n\},T)$ be a tree decomposition of $G$ with width $k$.
    
    Suppose $L$ is a linear ordering on $V$ generated by algorithm \ref{algo_LinOrderTW} and $v$ is any vertex in $G$. Then $d^+(v) \leq k$. 
\end{lemma}

%todo prove the above lemma

%todo col_g(T) < 3k+1 is sharp

%todo add defn of k-tree
The following result is not new, see Wu, Zhu 2008 \cite{WuZhu2008}, but the proof proved here is based on the activation strategy rather than pseudo-partial k-trees.
\begin{theorem} \label{Thm_ktree}
        Let $G$ be a k-tree. Then, 
        \[\chi_g(G) \leq 3k + 2\]
\end{theorem}

\begin{proof}
    Suppose $G=(E,V)$ is a graph of treewidth $k$ and let $(\{X_1,X_2,\dots,X_n\},T)$ be a tree decomposition of $G$ with width $k$ and root $r$.
    
    As $G$ is a k-tree $G$ is maximal with treewidth k. That is each $X_i$ is a clique.
    
    Let $v$ be a vertex in $G$ It suffices to show $r(v,L,G) \leq 3k + 1$.
    
    %todo is N^+(v) a clique?
    
    Note that by lemma \ref{Lemma_TWLinOrdBound} for all $v \in V$ $d^+(v) \leq k$.
    
    Let $Z \subset N^-(v)$ and the partition $[X,Y]$ of $Z$ such that $X\subset N^-[v]$ and  $Y\subset N^-(v)$.
           
    Consider a matching $M\colon X \to V^+(v)$. Let $e=(a,b)$ be an edge in $M$.
    $N^+(a)$ is a clique and $v\in N^+(a)$, thus $b$ is adjacent to $v$. Thus $X =$ rng$(M)\subset N^+(v)$. Thus $|X| \leq |N^+(v)| \leq k$. 
    
    Consider a matching $N\colon Y \to V^+[v]$. Let $e=(a,b)$ be an edge in $N$.
    Note that $N^+(a)$ is a clique and $v\in N^+(a)$, thus $b$ is adjacent to $v$. Thus $Y =$ rng$(N)\subset N^+[v]$. Thus $|Y| \leq |N^+[v]| \leq k+1$. 
        
    $|Z| = |X|+|Y|$. Therefore \[r(v,L,G) = d^+(v) + m(v,L,G) = 3k +1 \qedhere\]        
\end{proof}

\begin{corollary}
    Let $G$ be a graph of treewidth $k$. Then, 
    \[\chi_g(G) \leq 3k + 2\]
\end{corollary}

\begin{proof}
    Let $G$ be a graph of treewidth $k$.
    $G$ is a subgraph of a k-tree. Therefore by theorem \ref{Thm_ktree} \[\chi_g(G) \leq 3k + 2 \qedhere\] 
\end{proof}

%-------------------------------------------------------------------------------------------------------------------
\subsection{Extending the activation strategy}

The activation strategy works well for the $(1,1)$--marking game but fails in the general $(a,b)$--marking game. A desire to have a simple strategy $(a,b)$--marking game prompted to Kierstead and Yang to refine the $(a,b)$--marking game by introducing two new strategies for Alice, the Harmonious Strategy and the limited Harmonious Strategy.  For a graph $G$ let $O(G)$ be the set of all orientations of G, and let $\Delta^*(G)=\min_{\vec{G}\in O(G)}\Delta^+(\vec{G})$. That is $\Delta^*(G)$ is the smallest maximum outdegree in all the orientations of $G$. They use there new strategy to prove theorem \ref{thm:kiYa2005}.

\begin{theorem}[Theorem 1 in \cite{kierYang2005}]\label{thm:kiYa2005}
    Let a be an integer and $G$ be a graph with $\Delta^*(G) = k\leq a$. Then
    $\col(G;a,1) \leq 2k + 2$.
\end{theorem}

%    As motivation for the $(a,1)$--marking game Kierstead and Yang provide the following problem.
%
%    \begin{quotation}
%        Before proceeding we illustrate this theorem with the following fanciful Tame
%        Woodstock Problem. Suppose that a dinner-rock concert is being organized for
%        thousands of people over acres of farmland. The middle-aged audience will
%        come, spread out their picnic blankets, listen to the music, and talk with their
%        neighbors. The overwhelmed caterers will prepare and deliver meals to unfed
%        diners (in no particular order) continuously throughout the night on trays holding
%        four meals each. Any diner who receives a tray will keep one meal for himself
%        and distribute the rest, not necessarily to neighbors. The mellow rock fans are
%        perfectly willing to wait their turn for dinner as long as at any time not too many
%        (more than 7) of their neighbors have already been fed. Is it always possible to
%        satisfy this condition?
%        
%        Assuming that the neighbor relation yields a planar graph G, it has an
%        orientation $\vec{G}$ with $\Delta^+\vec{G}\leq 3$. Treating the delivery of a tray by the waiter as a
%        move by Bob and the distribution of the remaining meals as a move by Alice, we
%        have an instance of the $(3, 1)$-marking game on a graph G with $\Delta^*\vec{G}\leq 3$. Thus
%        applying the theorem, we see that the Tame Woodstock Problem is indeed
%        solvable. \cite[Kierstead Yang 2005]{kierYang2005}
%    \end{quotation}   
%    
%    Further, they provide motivation for the Harmonious Strategy as follows.
%    
%    \begin{quotation}
%        \textellipsis the description of Aliceâ€™s Harmonious Strategy given
%        below, we first solve the Tame Woodstock Problem. To satisfy all diners the
%        organizers establish the following simple protocol. First the planar adjacency
%        graph representing adjacent diners is oriented so that the maximum outdegree is
%        at most three. Each diner is responsible for the contentment of his outneighbors.
%        The diners agree to the following rules. If a waiter brings a tray of meals to a
%        diner, he keeps one for himself and passes the other three to his unfed
%        outneighbors (if he has less than three unfed outneighbors, the excess is passed to
%        any unfed diner). When a diner passes a meal to an outneighbor we say that he is
%        contributing the meal. If a diner receives a contribution of a meal from another
%        diner and he has an unfed outneighbor to whom he has not yet contributed then
%        he must contribute the meal to such an outneighbor. Otherwise he keeps the meal
%        and begins his dinner. \cite[Kierstead Yang 2005]{kierYang2005}
%    \end{quotation}

The Harmonious Strategy is used in the case the the game is very asymmetric, i.e. $\Delta^*(G)\leq \frac{a}{b}$. A summery of the Harmonious Strategy is as follows. Note that this strategy is most useful if $a$ is larger than the maximum out degree in a linear ordering on the vertices.

Suppose there is a linear ordering on the vertices in G and Bob has just marked a vertex x. Alice plays by performing the following steps $a$ times.    
\begin{enumerate}
    \item  Alice selects, $y$, the with the least unmarked outneighbor of $x$ to whom $x$ has not yet contributed and then contributes to y. If there is no such vertex she selects the least unmarked vertex.
    \item  The contribution from $y$
    is passed along until finally it arrives at a vertex $z$ that has already
    contributed to all its outneighbors.
    \item  Alice marks $z$
\end{enumerate}

The Harmonious Strategy is used to find upper bounds for the classes of general graphs, interval and chordal graphs, planar graphs, and outerplaner graphs. For a class of graphs $\mathcal{X}$, let $\mathcal{X}_k= \{G\in\mathcal{X}: \Delta^*(G)\leq k\}$. Some of the bounds are as follows.    
\begin{itemize}
    \item If $a < k$ then $\col(\GG_k;a,b)=\infty$
    \item $\col(\II)=3k+1\leq\col(\CC_k)=3k+2$
    \item If $3<a $ then $7\leq \col(\PP;a,b)\leq 8$
    \item If $2< a$ then $5\leq \col(\QQ;a,b)\leq 6$
\end{itemize}
More generally we have the following theorem for when Alice uses the Harmonious Strategy.
\begin{theorem}[Theroem 13 in \cite{kierYang2005}]
    let $a$ and $b$ be positive integers and $G$ a graph with $\Delta^*(G)=k\leq\frac{a}{b}$. Then $\col(G;a,b)\leq 2k+b+1$.
\end{theorem}

In the case that $a$ is less than $\Delta^*(G)$ the Harmonious Strategy is limited as Alice may not be able to mark all the out neighbours of a vertex. The limited Harmonious Strategy is the evolution of both the standard activation strategy and the Harmonious Strategy. The primary difference with the Harmonious Strategy is the in the limited strategy Alice only marks a vertex if it has contributed to at least $a$ out neighbours.    

The bounds found with the limited Harmonious Strategy, while good, are not as tight as the Harmonious Strategy. This provided the motivation for Yang and Zhu to improve the strategy. In \cite{yangZhu2008} they introduce a new strategy for the $(a,1)$--marking game based on the popular activation strategy. They summarise it as follows:

\begin{quotation}
    Suppose that Bob has just marked a vertex $x$. Then Alice starts by activating (through making contributions to) unmarked outneighbors $y$ of $x$ according to its preference. The parameter $t_y$ records the total number of contributions made by $y$. Once a vertex $y$ receives a contribution, then $y$ passes a contribution to its unmarked out-neighbors according to its preference, provided that $y$ has made less than $a$ contributions in total. In case $y$ has already made a contributions or $y$ has no unmarked outneighbors,then $y$ will be marked when it receives another contribution. Alice repeats the above procedure a times, each time marks one vertex. (Yang and Zhu 2008 \cite{yangZhu2008})
\end{quotation}

In summery the primary difference between the original activation strategy and the new activation strategy each vertex is activated $a$ times before it is marked.

Before we formally define the asymmetric activation strategy we need some notation. Let $L$ be a linear order of on $V(G)$, and $G_L$ the corresponding orientation of $G$. For each vertex, $v$, of $G$ let $L_v$ be a linear order on $N^+_{G_L}(v)$. 

\begin{definition}[Asymmetric activation strategy, \cite{yangZhu2008}] 
    Let $G$ be a graph, and let $U$ denote the set of unmarked vertices, and for all $v\in V(G)$ let $t_v=a$ track the number of activations. Let $L$ be a linear order of on $V(G)$, and let $G_L$ be the corresponding orientation of $G$.    
    We consider the equivalent $(a,b)$--marking game where Bob goes first. Suppose that Bob has just activated a vertex $x$ Alice uses algorithm \ref{alg:asymActivStrat} to update the graph and mark vertices.
    
    \begin{algorithm}[h]
        \caption{Asymmetric Activation strategy}
        \label{alg:asymActivStrat}
        \begin{algorithmic}[1]
            \Statex
            \For{$i$ from $1$ to $a$ and $U\neq\emptyset$}
                \If{$(N^+\cap U\neq \emptyset) \land (t_x>0)$} 
                    \State $y\gets \min_{L_x} N^+(x)\cap U$
                    \State $t_x \gets t_x-1$
                    \Else 
                    \State $y\gets \min_L U$                  
                \EndIf
                \While{$(N^+(y)\cap \neq \emptyset) \land (t_y>0)$}
                    \State $z\gets \min_{L_y} N^+(y)\cap U$
                    \State $t_y \gets t_y-1$
                    \State $y\gets z$
                \EndWhile
                \State $U \gets U \setminus y$
                \State Mark the vertex $y$
            \EndFor
        \end{algorithmic}
    \end{algorithm}
    
    By using the Asymmetric Activation Strategy on the $(a,1)$--marking game we get the following upper bound for $\col(G;a,1)$.

    \begin{theorem}[Theorem 2.2 in \cite{yangZhu2008}]  
        Let $G_P$ be an orientated graph with $\Delta^+(G_P)=k>a$ and let $r_{G_L}(\Sigma)=r$. If Alice uses the Asymmetric Activation Strategy then $\col(G;a,1)\leq k+\left\lfloor (1+\frac{1}{a})r \right\rfloor +2$
    \end{theorem}

\end{definition}



%-------------------------------------------------------------------------------------------------------------------
\subsection{Refined Activation Strategy}
The refined activation strategy is a refinement on the activation stragety introduced by Xuding Zhu in \cite{Zhu2008}. Zhu uses this stragety to find a bound for the ordering game for the class of planar graphs. 

\begin{theorem}[Theorem 1, Zhu 2008 \cite{Zhu2008}]
    If $G$ is a planar graph, then \[\chi_g(G)\leq\col(G)\leq17\]
\end{theorem}

The refined activation strategy applies the same basic strategy as above but with two differences. 

First, we use a digraph $L$ on $G$ as our ordering. This is only a rough ordering. We partition $V$ into blocks $B_1,B_2,\dots,B_i$, where if $x \in B_i$, $y \in B_j$ and $i <$ then the an edge $xy$ is in $L$. The ordering may not be an ordering in each block. However if we ignore what happens in each block we get a linear ordering.

Second when we activate a vertex $v$ if the edge $uv$ fulfils some conditions then reverse the direction of the edge $uv$ in $L$.

\section{Online colouring}

\begin{theorem}[Kierstand and Trotter \cite{KierstandTrotter}]
    An Interval graph can be online coloured with $3\omega-2$ colours, where $\omega$ is the size of the maximum clique.
\end{theorem}

Can cover a graph with $ 3\omega-2 $ chains. In inductive proof each new $ A $ has pathwidth 2 thus can be game coloured in 7 colours. Conjecture that double trouble is $ 7*(\omega-1)+1 = 7\omega-6 $. however this relies on being able to see the whole of $ A $.

\begin{theorem}[Kierstand \cite{KIERSTEAD2000}] \label{thm_intervalKierstand}
    An Interval graph has game chromatic number $3\omega-2$ where where $\omega$ is the size of the maximum clique.
\end{theorem}

The proof of theorem \ref{thm_intervalKierstand} is similar to the proof of theorem \ref{thm_pathwidth}. 
However he defines his linear order as left to right on left most element in each interval.  
As a graph is of pathwidth $k$ if and only if it is a subgraph of an interval graph with maximal clique size $k+1$, these theorems are equivalent. These are the same because they both use the ordering of the left most element in each interval and first fit.        


%Link between decadency of graph and double trouble?

%vertex separation number > degeneracy, thus find double trouble for pathwidth, find for all graphs. 















